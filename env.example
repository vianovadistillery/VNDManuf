# Environment Configuration Example
# Copy this file to .env and update the values for your environment

# Application Settings
ENVIRONMENT=development
APP_NAME=TPManuf Modern System
APP_VERSION=1.0.0

# Database Configuration
DB_DATABASE_URL=sqlite:///./tpmanuf.db
# For PostgreSQL: postgresql://user:password@localhost:5432/tpmanuf
# For MySQL: mysql://user:password@localhost:3306/tpmanuf

DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# API Configuration
API_HOST=127.0.0.1
API_PORT=8000
API_DEBUG=true
API_RELOAD=true

API_CORS_ORIGINS=["http://localhost:3000", "http://127.0.0.1:8050"]
API_CORS_METHODS=["GET", "POST", "PUT", "DELETE", "OPTIONS"]
API_CORS_HEADERS=["*"]

API_SECRET_KEY=your-secret-key-change-in-production
API_ACCESS_TOKEN_EXPIRE_MINUTES=30
API_RATE_LIMIT_PER_MINUTE=100

# Logging Configuration
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE_ENABLED=false
LOG_FILE_PATH=logs/app.log
LOG_FILE_MAX_SIZE=10485760
LOG_FILE_BACKUP_COUNT=5

LOG_INCLUDE_REQUEST_ID=true
LOG_INCLUDE_USER_ID=true
LOG_INCLUDE_ENTITY_INFO=true

# UI Configuration
UI_HOST=127.0.0.1
UI_PORT=8050
UI_DEBUG=true
UI_API_BASE_URL=http://127.0.0.1:8000
UI_API_TIMEOUT=30
UI_ENABLE_DEMO_MODE=true
UI_SHOW_DEBUG_INFO=false

# Security Configuration
SECURITY_JWT_SECRET_KEY=your-jwt-secret-key-change-in-production
SECURITY_JWT_ALGORITHM=HS256
SECURITY_JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
SECURITY_JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

SECURITY_PASSWORD_MIN_LENGTH=8
SECURITY_PASSWORD_REQUIRE_UPPERCASE=true
SECURITY_PASSWORD_REQUIRE_LOWERCASE=true
SECURITY_PASSWORD_REQUIRE_NUMBERS=true
SECURITY_PASSWORD_REQUIRE_SPECIAL_CHARS=true

SECURITY_SESSION_COOKIE_NAME=tpmanuf_session
SECURITY_SESSION_COOKIE_SECURE=false
SECURITY_SESSION_COOKIE_HTTPONLY=true
SECURITY_SESSION_COOKIE_SAMESITE=lax

# Business Logic Configuration
BUSINESS_DEFAULT_TAX_RATE=10.0
BUSINESS_ALLOW_NEGATIVE_INVENTORY=false
BUSINESS_REQUIRE_LOT_EXIRY_DATES=false
BUSINESS_DEFAULT_LOT_EXIRY_DAYS=365

BUSINESS_ENABLE_DYNAMIC_PRICING=false
BUSINESS_PRICE_ROUNDING_PRECISION=2

BUSINESS_REQUIRE_QC_FOR_COMPLETION=true
BUSINESS_AUTO_GENERATE_BATCH_CODES=true
BUSINESS_BATCH_CODE_PREFIX=B

BUSINESS_INVOICE_NUMBER_PREFIX=INV-
BUSINESS_INVOICE_DUE_DAYS=30

# Xero Integration Configuration
# Note: offline_access is automatically included in the OAuth flow (required for refresh tokens)
# You only select accounting.* scopes in the Xero Developer Portal dropdown
XERO_CLIENT_ID=your_client_id
XERO_CLIENT_SECRET=your_client_secret
XERO_REDIRECT_URI=http://localhost:8050/xero/callback
XERO_TENANT_ID=
# Scopes to request: offline_access is sent during OAuth, accounting.* scopes selected in portal
XERO_SCOPES=offline_access accounting.contacts accounting.settings accounting.transactions

# Shopify Integration
SHOPIFY_STORE=https://yourstore.myshopify.com
SHOPIFY_ACCESS_TOKEN=shpat_xxx
# If you use multi-location, you may set per-product in DB; otherwise this default applies
SHOPIFY_LOCATION_ID=
SHOPIFY_WEBHOOK_SECRET=
