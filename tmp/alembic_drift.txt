[2025-11-09T00:19:45] exit=4294967295

INFO  [alembic.runtime.migration] Context impl SQLiteImpl.
INFO  [alembic.runtime.migration] Will assume non-transactional DDL.
INFO  [alembic.autogenerate.compare] Detected removed table '_alembic_tmp_batches'
INFO  [alembic.autogenerate.compare] Detected removed table '_alembic_tmp_assembly_lines'
INFO  [alembic.autogenerate.compare] Detected server default on column 'assembly_lines.version'
INFO  [alembic.autogenerate.compare] Detected NOT NULL on column 'assembly_lines.created_at'
INFO  [alembic.autogenerate.compare] Detected NOT NULL on column 'assembly_lines.updated_at'
INFO  [alembic.autogenerate.compare] Detected server default on column 'batch_components.version'
INFO  [alembic.autogenerate.compare] Detected NOT NULL on column 'batch_components.created_at'
INFO  [alembic.autogenerate.compare] Detected NOT NULL on column 'batch_components.updated_at'
INFO  [alembic.autogenerate.compare] Detected server default on column 'batch_lines.version'
INFO  [alembic.autogenerate.compare] Detected NOT NULL on column 'batch_lines.created_at'
INFO  [alembic.autogenerate.compare] Detected NOT NULL on column 'batch_lines.updated_at'
INFO  [alembic.autogenerate.compare] Detected server default on column 'batch_seq.seq'
INFO  [alembic.autogenerate.compare] Detected NULL on column 'batches.work_order_id'
INFO  [alembic.autogenerate.compare] Detected server default on column 'batches.version'
INFO  [alembic.autogenerate.compare] Detected NOT NULL on column 'batches.created_at'
INFO  [alembic.autogenerate.compare] Detected NOT NULL on column 'batches.updated_at'
INFO  [alembic.autogenerate.compare] Detected removed index 'ix_batch_wo_code' on 'batches'
INFO  [alembic.autogenerate.compare] Detected removed unique constraint 'uq_batch_code' on 'batches'
INFO  [alembic.autogenerate.compare] Detected added unique constraint 'uq_batch_code_unique' on '('batch_code',)'
INFO  [alembic.autogenerate.compare] Detected added foreign key (product_id)(id) on table batches
INFO  [alembic.autogenerate.compare] Detected server default on column 'contacts.version'
INFO  [alembic.autogenerate.compare] Detected server default on column 'customer_prices.version'
INFO  [alembic.autogenerate.compare] Detected NOT NULL on column 'customer_prices.created_at'
INFO  [alembic.autogenerate.compare] Detected NOT NULL on column 'customer_prices.updated_at'
INFO  [alembic.autogenerate.compare] Detected added column 'customer_sites.deleted_by'
INFO  [alembic.autogenerate.compare] Detected added column 'customer_sites.version'
INFO  [alembic.autogenerate.compare] Detected added column 'customer_sites.versioned_at'
INFO  [alembic.autogenerate.compare] Detected added column 'customer_sites.versioned_by'
INFO  [alembic.autogenerate.compare] Detected added column 'customer_sites.previous_version_id'
INFO  [alembic.autogenerate.compare] Detected added column 'customer_sites.archived_at'
INFO  [alembic.autogenerate.compare] Detected added column 'customer_sites.archived_by'
INFO  [alembic.autogenerate.compare] Detected added index 'ix_customer_sites_archived_at' on '('archived_at',)'
INFO  [alembic.autogenerate.compare] Detected added index 'ix_customer_sites_deleted_at' on '('deleted_at',)'
INFO  [alembic.autogenerate.compare] Detected added index 'ix_customer_sites_version' on '('version',)'
INFO  [alembic.autogenerate.compare] Detected removed foreign key (customer_id)(id) on table customer_sites
INFO  [alembic.autogenerate.compare] Detected added foreign key (customer_id)(id) on table customer_sites
INFO  [alembic.autogenerate.compare] Detected server default on column 'customers.version'
INFO  [alembic.autogenerate.compare] Detected server default on column 'excise_rates.version'
INFO  [alembic.autogenerate.compare] Detected server default on column 'finished_goods.version'
INFO  [alembic.autogenerate.compare] Detected server default on column 'formula_lines.version'
INFO  [alembic.autogenerate.compare] Detected NOT NULL on column 'formula_lines.created_at'
INFO  [alembic.autogenerate.compare] Detected NOT NULL on column 'formula_lines.updated_at'
INFO  [alembic.autogenerate.compare] Detected server default on column 'formulas.yield_factor'
INFO  [alembic.autogenerate.compare] Detected server default on column 'inventory_lots.version'
INFO  [alembic.autogenerate.compare] Detected type change from NUMERIC(precision=12, scale=3) to Numeric(precision=12, scale=4) on 'inventory_movements.qty'
INFO  [alembic.autogenerate.compare] Detected NULL on column 'inventory_movements.direction'
INFO  [alembic.autogenerate.compare] Detected server default on column 'inventory_movements.version'
INFO  [alembic.autogenerate.compare] Detected NOT NULL on column 'inventory_movements.created_at'
INFO  [alembic.autogenerate.compare] Detected NOT NULL on column 'inventory_movements.updated_at'
INFO  [alembic.autogenerate.compare] Detected added foreign key (batch_id)(id) on table inventory_movements
INFO  [alembic.autogenerate.compare] Detected server default on column 'inventory_reservations.version'
INFO  [alembic.autogenerate.compare] Detected server default on column 'inventory_txns.version'
INFO  [alembic.autogenerate.compare] Detected server default on column 'invoice_lines.version'
INFO  [alembic.autogenerate.compare] Detected NOT NULL on column 'invoice_lines.created_at'
INFO  [alembic.autogenerate.compare] Detected NOT NULL on column 'invoice_lines.updated_at'
INFO  [alembic.autogenerate.compare] Detected server default on column 'invoices.version'
INFO  [alembic.autogenerate.compare] Detected NOT NULL on column 'invoices.created_at'
INFO  [alembic.autogenerate.compare] Detected NOT NULL on column 'invoices.updated_at'
INFO  [alembic.autogenerate.compare] Detected server default on column 'pack_conversions.version'
INFO  [alembic.autogenerate.compare] Detected server default on column 'pack_units.version'
INFO  [alembic.autogenerate.compare] Detected server default on column 'po_lines.version'
INFO  [alembic.autogenerate.compare] Detected NOT NULL on column 'po_lines.created_at'
INFO  [alembic.autogenerate.compare] Detected NOT NULL on column 'po_lines.updated_at'
INFO  [alembic.autogenerate.compare] Detected server default on column 'price_list_items.version'
INFO  [alembic.autogenerate.compare] Detected NOT NULL on column 'price_list_items.created_at'
INFO  [alembic.autogenerate.compare] Detected NOT NULL on column 'price_list_items.updated_at'
INFO  [alembic.autogenerate.compare] Detected server default on column 'price_lists.version'
INFO  [alembic.autogenerate.compare] Detected added column 'pricebook_items.deleted_by'
INFO  [alembic.autogenerate.compare] Detected added column 'pricebook_items.version'
INFO  [alembic.autogenerate.compare] Detected added column 'pricebook_items.versioned_at'
INFO  [alembic.autogenerate.compare] Detected added column 'pricebook_items.versioned_by'
INFO  [alembic.autogenerate.compare] Detected added column 'pricebook_items.previous_version_id'
INFO  [alembic.autogenerate.compare] Detected added column 'pricebook_items.archived_at'
INFO  [alembic.autogenerate.compare] Detected added column 'pricebook_items.archived_by'
INFO  [alembic.autogenerate.compare] Detected added index 'ix_pricebook_items_archived_at' on '('archived_at',)'
INFO  [alembic.autogenerate.compare] Detected added index 'ix_pricebook_items_deleted_at' on '('deleted_at',)'
INFO  [alembic.autogenerate.compare] Detected added index 'ix_pricebook_items_version' on '('version',)'
INFO  [alembic.autogenerate.compare] Detected removed foreign key (pricebook_id)(id) on table pricebook_items
INFO  [alembic.autogenerate.compare] Detected removed foreign key (product_id)(id) on table pricebook_items
INFO  [alembic.autogenerate.compare] Detected added foreign key (pricebook_id)(id) on table pricebook_items
INFO  [alembic.autogenerate.compare] Detected added foreign key (product_id)(id) on table pricebook_items
INFO  [alembic.autogenerate.compare] Detected added column 'pricebooks.deleted_by'
INFO  [alembic.autogenerate.compare] Detected added column 'pricebooks.version'
INFO  [alembic.autogenerate.compare] Detected added column 'pricebooks.versioned_at'
INFO  [alembic.autogenerate.compare] Detected added column 'pricebooks.versioned_by'
INFO  [alembic.autogenerate.compare] Detected added column 'pricebooks.previous_version_id'
INFO  [alembic.autogenerate.compare] Detected added column 'pricebooks.archived_at'
INFO  [alembic.autogenerate.compare] Detected added column 'pricebooks.archived_by'
INFO  [alembic.autogenerate.compare] Detected server default on column 'pricebooks.currency'
INFO  [alembic.autogenerate.compare] Detected removed unique constraint 'uq_pricebooks_name' on 'pricebooks'
INFO  [alembic.autogenerate.compare] Detected added index 'ix_pricebooks_archived_at' on '('archived_at',)'
INFO  [alembic.autogenerate.compare] Detected added index 'ix_pricebooks_deleted_at' on '('deleted_at',)'
INFO  [alembic.autogenerate.compare] Detected added index 'ix_pricebooks_version' on '('version',)'
INFO  [alembic.autogenerate.compare] Detected added unique constraint 'uq_pricebooks__name' on '('name',)'
INFO  [alembic.autogenerate.compare] Detected server default on column 'product_channel_links.version'
INFO  [alembic.autogenerate.compare] Detected NOT NULL on column 'product_channel_links.created_at'
INFO  [alembic.autogenerate.compare] Detected NOT NULL on column 'product_channel_links.updated_at'
INFO  [alembic.autogenerate.compare] Detected server default on column 'product_cost_rates.version'
INFO  [alembic.autogenerate.compare] Detected changed index 'ix_cost_rate_code' on 'product_cost_rates': unique=True to unique=False
INFO  [alembic.autogenerate.compare] Detected added index 'ix_product_cost_rates_archived_at' on '('archived_at',)'
INFO  [alembic.autogenerate.compare] Detected added index 'ix_product_cost_rates_deleted_at' on '('deleted_at',)'
INFO  [alembic.autogenerate.compare] Detected added index 'ix_product_cost_rates_rate_code' on '('rate_code',)'
INFO  [alembic.autogenerate.compare] Detected added index 'ix_product_cost_rates_version' on '('version',)'
INFO  [alembic.autogenerate.compare] Detected server default on column 'product_variants.version'
INFO  [alembic.autogenerate.compare] Detected NOT NULL on column 'products.id'
INFO  [alembic.autogenerate.compare] Detected type change from TEXT() to String(length=36) on 'products.id'
INFO  [alembic.autogenerate.compare] Detected type change from TEXT() to String(length=50) on 'products.sku'
INFO  [alembic.autogenerate.compare] Detected type change from TEXT() to String(length=200) on 'products.name'
INFO  [alembic.autogenerate.compare] Detected type change from TEXT() to String(length=20) on 'products.ean13'
INFO  [alembic.autogenerate.compare] Detected type change from TEXT() to String(length=20) on 'products.product_type'
INFO  [alembic.autogenerate.compare] Detected type change from NUMERIC() to Boolean() on 'products.is_purchase'
INFO  [alembic.autogenerate.compare] Detected type change from NUMERIC() to Boolean() on 'products.is_sell'
INFO  [alembic.autogenerate.compare] Detected type change from NUMERIC() to Boolean() on 'products.is_assemble'
INFO  [alembic.autogenerate.compare] Detected type change from NUMERIC() to Boolean() on 'products.is_tracked'
INFO  [alembic.autogenerate.compare] Detected type change from NUMERIC() to Boolean() on 'products.sellable'
INFO  [alembic.autogenerate.compare] Detected server default on column 'products.allow_negative_inventory'
INFO  [alembic.autogenerate.compare] Detected type change from NUMERIC() to Boolean() on 'products.is_archived'
INFO  [alembic.autogenerate.compare] Detected type change from TEXT() to String(length=10) on 'products.raw_material_search_key'
INFO  [alembic.autogenerate.compare] Detected type change from TEXT() to String(length=10) on 'products.raw_material_search_ext'
INFO  [alembic.autogenerate.compare] Detected type change from TEXT() to String(length=10) on 'products.usage_unit'
INFO  [alembic.autogenerate.compare] Detected type change from TEXT() to String(length=1) on 'products.usage_tax_included'
INFO  [alembic.autogenerate.compare] Detected type change from TEXT() to String(length=1) on 'products.hazard'
INFO  [alembic.autogenerate.compare] Detected type change from TEXT() to String(length=1) on 'products.condition'
INFO  [alembic.autogenerate.compare] Detected type change from TEXT() to String(length=1) on 'products.msds_flag'
INFO  [alembic.autogenerate.compare] Detected type change from TEXT() to String(length=10) on 'products.last_movement_date'
INFO  [alembic.autogenerate.compare] Detected type change from TEXT() to String(length=10) on 'products.last_purchase_date'
INFO  [alembic.autogenerate.compare] Detected type change from TEXT() to String(length=50) on 'products.xero_account'
INFO  [alembic.autogenerate.compare] Detected type change from TEXT() to String(length=10) on 'products.size'
INFO  [alembic.autogenerate.compare] Detected type change from TEXT() to String(length=10) on 'products.base_unit'
INFO  [alembic.autogenerate.compare] Detected type change from TEXT() to String(length=36) on 'products.supplier_id'
INFO  [alembic.autogenerate.compare] Detected type change from TEXT() to String(length=36) on 'products.purchase_unit_id'
INFO  [alembic.autogenerate.compare] Detected type change from TEXT() to String(length=1) on 'products.purchase_tax_included'
INFO  [alembic.autogenerate.compare] Detected type change from TEXT() to String(length=100) on 'products.estimated_by'
INFO  [alembic.autogenerate.compare] Detected type change from NUMERIC() to DateTime() on 'products.estimated_at'
INFO  [alembic.autogenerate.compare] Detected type change from TEXT() to String(length=1) on 'products.manufactured_tax_included'
INFO  [alembic.autogenerate.compare] Detected type change from NUMERIC() to String(length=1) on 'products.retailcde'
INFO  [alembic.autogenerate.compare] Detected type change from NUMERIC() to String(length=1) on 'products.wholesalecde'
INFO  [alembic.autogenerate.compare] Detected type change from NUMERIC() to String(length=1) on 'products.countercde'
INFO  [alembic.autogenerate.compare] Detected type change from NUMERIC() to String(length=1) on 'products.tradecde'
INFO  [alembic.autogenerate.compare] Detected type change from NUMERIC() to String(length=1) on 'products.contractcde'
INFO  [alembic.autogenerate.compare] Detected type change from NUMERIC() to String(length=1) on 'products.industrialcde'
INFO  [alembic.autogenerate.compare] Detected type change from NUMERIC() to String(length=1) on 'products.distributorcde'
INFO  [alembic.autogenerate.compare] Detected type change from TEXT() to String(length=1) on 'products.dgflag'
INFO  [alembic.autogenerate.compare] Detected type change from TEXT() to String(length=10) on 'products.form'
INFO  [alembic.autogenerate.compare] Detected type change from TEXT() to String(length=1) on 'products.taxinc'
INFO  [alembic.autogenerate.compare] Detected type change from TEXT() to String(length=1) on 'products.salestaxcde'
INFO  [alembic.autogenerate.compare] Detected type change from TEXT() to String(length=1) on 'products.disccdeone'
INFO  [alembic.autogenerate.compare] Detected type change from TEXT() to String(length=1) on 'products.disccdetwo'
INFO  [alembic.autogenerate.compare] Detected type change from TEXT() to String(length=100) on 'products.xero_item_id'
INFO  [alembic.autogenerate.compare] Detected type change from NUMERIC() to DateTime() on 'products.last_sync'
INFO  [alembic.autogenerate.compare] Detected type change from NUMERIC() to Boolean() on 'products.is_active'
INFO  [alembic.autogenerate.compare] Detected server default on column 'products.version'
INFO  [alembic.autogenerate.compare] Detected type change from NUMERIC() to DateTime() on 'products.archived_at'
INFO  [alembic.autogenerate.compare] Detected NOT NULL on column 'products.created_at'
INFO  [alembic.autogenerate.compare] Detected type change from NUMERIC() to DateTime() on 'products.created_at'
INFO  [alembic.autogenerate.compare] Detected NOT NULL on column 'products.updated_at'
INFO  [alembic.autogenerate.compare] Detected type change from NUMERIC() to DateTime() on 'products.updated_at'
INFO  [alembic.autogenerate.compare] Detected added index 'ix_products_product_type' on '('product_type',)'
INFO  [alembic.autogenerate.compare] Detected added index 'ix_products_raw_material_code' on '('raw_material_code',)'
INFO  [alembic.autogenerate.compare] Detected added index 'ix_products_sku' on '('sku',)'
INFO  [alembic.autogenerate.compare] Detected added foreign key (supplier_id)(id) on table products
INFO  [alembic.autogenerate.compare] Detected added foreign key (purchase_format_id)(id) on table products
INFO  [alembic.autogenerate.compare] Detected added foreign key (purchase_unit_id)(id) on table products
INFO  [alembic.autogenerate.compare] Detected removed column 'products.purchase_volume'
INFO  [alembic.autogenerate.compare] Detected removed column 'products.raw_material_group_id'
INFO  [alembic.autogenerate.compare] Detected removed column 'products.pack'
INFO  [alembic.autogenerate.compare] Detected removed column 'products.formula_id'
INFO  [alembic.autogenerate.compare] Detected removed column 'products.formula_revision'
INFO  [alembic.autogenerate.compare] Detected server default on column 'purchase_orders.version'
INFO  [alembic.autogenerate.compare] Detected NOT NULL on column 'purchase_orders.created_at'
INFO  [alembic.autogenerate.compare] Detected NOT NULL on column 'purchase_orders.updated_at'
INFO  [alembic.autogenerate.compare] Detected server default on column 'qc_results.version'
INFO  [alembic.autogenerate.compare] Detected NOT NULL on column 'qc_results.created_at'
INFO  [alembic.autogenerate.compare] Detected NOT NULL on column 'qc_results.updated_at'
INFO  [alembic.autogenerate.compare] Detected server default on column 'qc_test_types.is_active'
INFO  [alembic.autogenerate.compare] Detected server default on column 'qc_test_types.version'
INFO  [alembic.autogenerate.compare] Detected removed unique constraint 'uq_qc_test_types_code' on 'qc_test_types'
INFO  [alembic.autogenerate.compare] Detected changed index 'ix_qc_test_types_code' on 'qc_test_types': unique=False to unique=True
INFO  [alembic.autogenerate.compare] Detected added index 'ix_qc_test_types_archived_at' on '('archived_at',)'
INFO  [alembic.autogenerate.compare] Detected added index 'ix_qc_test_types_deleted_at' on '('deleted_at',)'
INFO  [alembic.autogenerate.compare] Detected added index 'ix_qc_test_types_version' on '('version',)'
INFO  [alembic.autogenerate.compare] Detected server default on column 'quality_test_definitions.version'
INFO  [alembic.autogenerate.compare] Detected server default on column 'revaluations.version'
INFO  [alembic.autogenerate.compare] Detected NOT NULL on column 'revaluations.created_at'
INFO  [alembic.autogenerate.compare] Detected NOT NULL on column 'revaluations.updated_at'
INFO  [alembic.autogenerate.compare] Detected added column 'sales_channels.deleted_by'
INFO  [alembic.autogenerate.compare] Detected added column 'sales_channels.version'
INFO  [alembic.autogenerate.compare] Detected added column 'sales_channels.versioned_at'
INFO  [alembic.autogenerate.compare] Detected added column 'sales_channels.versioned_by'
INFO  [alembic.autogenerate.compare] Detected added column 'sales_channels.previous_version_id'
INFO  [alembic.autogenerate.compare] Detected added column 'sales_channels.archived_at'
INFO  [alembic.autogenerate.compare] Detected added column 'sales_channels.archived_by'
INFO  [alembic.autogenerate.compare] Detected removed unique constraint 'uq_sales_channels_code' on 'sales_channels'
INFO  [alembic.autogenerate.compare] Detected added index 'ix_sales_channels_archived_at' on '('archived_at',)'
INFO  [alembic.autogenerate.compare] Detected added index 'ix_sales_channels_code' on '('code',)'
INFO  [alembic.autogenerate.compare] Detected added index 'ix_sales_channels_deleted_at' on '('deleted_at',)'
INFO  [alembic.autogenerate.compare] Detected added index 'ix_sales_channels_version' on '('version',)'
INFO  [alembic.autogenerate.compare] Detected server default on column 'sales_order_lines.version'
INFO  [alembic.autogenerate.compare] Detected added index 'ix_sales_order_lines_archived_at' on '('archived_at',)'
INFO  [alembic.autogenerate.compare] Detected added index 'ix_sales_order_lines_deleted_at' on '('deleted_at',)'
INFO  [alembic.autogenerate.compare] Detected added index 'ix_sales_order_lines_version' on '('version',)'
INFO  [alembic.autogenerate.compare] Detected removed foreign key (order_id)(id) on table sales_order_lines
INFO  [alembic.autogenerate.compare] Detected added foreign key (product_id)(id) on table sales_order_lines
INFO  [alembic.autogenerate.compare] Detected added foreign key (order_id)(id) on table sales_order_lines
INFO  [alembic.autogenerate.compare] Detected added column 'sales_order_tags.deleted_by'
INFO  [alembic.autogenerate.compare] Detected added column 'sales_order_tags.version'
INFO  [alembic.autogenerate.compare] Detected added column 'sales_order_tags.versioned_at'
INFO  [alembic.autogenerate.compare] Detected added column 'sales_order_tags.versioned_by'
INFO  [alembic.autogenerate.compare] Detected added column 'sales_order_tags.previous_version_id'
INFO  [alembic.autogenerate.compare] Detected added column 'sales_order_tags.archived_at'
INFO  [alembic.autogenerate.compare] Detected added column 'sales_order_tags.archived_by'
INFO  [alembic.autogenerate.compare] Detected added index 'ix_sales_order_tags_archived_at' on '('archived_at',)'
INFO  [alembic.autogenerate.compare] Detected added index 'ix_sales_order_tags_deleted_at' on '('deleted_at',)'
INFO  [alembic.autogenerate.compare] Detected added index 'ix_sales_order_tags_version' on '('version',)'
INFO  [alembic.autogenerate.compare] Detected removed foreign key (order_id)(id) on table sales_order_tags
INFO  [alembic.autogenerate.compare] Detected removed foreign key (tag_id)(id) on table sales_order_tags
INFO  [alembic.autogenerate.compare] Detected added foreign key (tag_id)(id) on table sales_order_tags
INFO  [alembic.autogenerate.compare] Detected added foreign key (order_id)(id) on table sales_order_tags
INFO  [alembic.autogenerate.compare] Detected added column 'sales_orders.pricebook_id'
INFO  [alembic.autogenerate.compare] Detected NULL on column 'sales_orders.order_ref'
INFO  [alembic.autogenerate.compare] Detected NOT NULL on column 'sales_orders.order_date'
INFO  [alembic.autogenerate.compare] Detected server default on column 'sales_orders.version'
INFO  [alembic.autogenerate.compare] Detected NOT NULL on column 'sales_orders.created_at'
INFO  [alembic.autogenerate.compare] Detected NOT NULL on column 'sales_orders.updated_at'
INFO  [alembic.autogenerate.compare] Detected removed index 'ix_sales_order_so_number' on 'sales_orders'
INFO  [alembic.autogenerate.compare] Detected added index 'ix_sales_orders_order_ref' on '('order_ref',)'
INFO  [alembic.autogenerate.compare] Detected added index 'ix_sales_orders_pricebook' on '('pricebook_id',)'
INFO  [alembic.autogenerate.compare] Detected removed foreign key (customer_site_id)(id) on table sales_orders
INFO  [alembic.autogenerate.compare] Detected removed foreign key (channel_id)(id) on table sales_orders
INFO  [alembic.autogenerate.compare] Detected added foreign key (pricebook_id)(id) on table sales_orders
INFO  [alembic.autogenerate.compare] Detected added foreign key (channel_id)(id) on table sales_orders
INFO  [alembic.autogenerate.compare] Detected added foreign key (customer_site_id)(id) on table sales_orders
INFO  [alembic.autogenerate.compare] Detected added column 'sales_tags.deleted_by'
INFO  [alembic.autogenerate.compare] Detected added column 'sales_tags.version'
INFO  [alembic.autogenerate.compare] Detected added column 'sales_tags.versioned_at'
INFO  [alembic.autogenerate.compare] Detected added column 'sales_tags.versioned_by'
INFO  [alembic.autogenerate.compare] Detected added column 'sales_tags.previous_version_id'
INFO  [alembic.autogenerate.compare] Detected added column 'sales_tags.archived_at'
INFO  [alembic.autogenerate.compare] Detected added column 'sales_tags.archived_by'
INFO  [alembic.autogenerate.compare] Detected removed unique constraint 'uq_sales_tags_slug' on 'sales_tags'
INFO  [alembic.autogenerate.compare] Detected added index 'ix_sales_tags_archived_at' on '('archived_at',)'
INFO  [alembic.autogenerate.compare] Detected added index 'ix_sales_tags_deleted_at' on '('deleted_at',)'
INFO  [alembic.autogenerate.compare] Detected added index 'ix_sales_tags_slug' on '('slug',)'
INFO  [alembic.autogenerate.compare] Detected added index 'ix_sales_tags_version' on '('version',)'
INFO  [alembic.autogenerate.compare] Detected server default on column 'suppliers.version'
INFO  [alembic.autogenerate.compare] Detected server default on column 'units.version'
INFO  [alembic.autogenerate.compare] Detected server default on column 'wo_qc_tests.status'
INFO  [alembic.autogenerate.compare] Detected server default on column 'wo_qc_tests.version'
INFO  [alembic.autogenerate.compare] Detected added index 'ix_wo_qc_tests_archived_at' on '('archived_at',)'
INFO  [alembic.autogenerate.compare] Detected added index 'ix_wo_qc_tests_deleted_at' on '('deleted_at',)'
INFO  [alembic.autogenerate.compare] Detected added index 'ix_wo_qc_tests_version' on '('version',)'
INFO  [alembic.autogenerate.compare] Detected removed foreign key (test_type_id)(id) on table wo_qc_tests
INFO  [alembic.autogenerate.compare] Detected added foreign key (test_type_id)(id) on table wo_qc_tests
INFO  [alembic.autogenerate.compare] Detected server default on column 'wo_timers.version'
INFO  [alembic.autogenerate.compare] Detected added index 'ix_wo_timers_archived_at' on '('archived_at',)'
INFO  [alembic.autogenerate.compare] Detected added index 'ix_wo_timers_deleted_at' on '('deleted_at',)'
INFO  [alembic.autogenerate.compare] Detected added index 'ix_wo_timers_version' on '('version',)'
INFO  [alembic.autogenerate.compare] Detected server default on column 'work_areas.is_active'
INFO  [alembic.autogenerate.compare] Detected type change from VARCHAR(length=36) to String(length=100) on 'work_areas.deleted_by'
INFO  [alembic.autogenerate.compare] Detected NOT NULL on column 'work_areas.version'
INFO  [alembic.autogenerate.compare] Detected server default on column 'work_areas.version'
INFO  [alembic.autogenerate.compare] Detected type change from VARCHAR(length=36) to String(length=100) on 'work_areas.versioned_by'
INFO  [alembic.autogenerate.compare] Detected type change from VARCHAR(length=36) to String(length=100) on 'work_areas.archived_by'
INFO  [alembic.autogenerate.compare] Detected NOT NULL on column 'work_areas.created_at'
INFO  [alembic.autogenerate.compare] Detected NOT NULL on column 'work_areas.updated_at'
INFO  [alembic.autogenerate.compare] Detected changed index 'ix_work_area_code' on 'work_areas': unique=True to unique=False
INFO  [alembic.autogenerate.compare] Detected added index 'ix_work_areas_archived_at' on '('archived_at',)'
INFO  [alembic.autogenerate.compare] Detected added index 'ix_work_areas_code' on '('code',)'
INFO  [alembic.autogenerate.compare] Detected added index 'ix_work_areas_deleted_at' on '('deleted_at',)'
INFO  [alembic.autogenerate.compare] Detected added index 'ix_work_areas_version' on '('version',)'
INFO  [alembic.autogenerate.compare] Detected NOT NULL on column 'work_order_lines.component_product_id'
INFO  [alembic.autogenerate.compare] Detected NULL on column 'work_order_lines.ingredient_product_id'
INFO  [alembic.autogenerate.compare] Detected NULL on column 'work_order_lines.required_quantity_kg'
INFO  [alembic.autogenerate.compare] Detected server default on column 'work_order_lines.line_type'
INFO  [alembic.autogenerate.compare] Detected server default on column 'work_order_lines.version'
INFO  [alembic.autogenerate.compare] Detected NOT NULL on column 'work_order_lines.created_at'
INFO  [alembic.autogenerate.compare] Detected NOT NULL on column 'work_order_lines.updated_at'
INFO  [alembic.autogenerate.compare] Detected added foreign key (source_batch_id)(id) on table work_order_lines
INFO  [alembic.autogenerate.compare] Detected added foreign key (component_product_id)(id) on table work_order_lines
INFO  [alembic.autogenerate.compare] Detected server default on column 'work_order_outputs.version'
INFO  [alembic.autogenerate.compare] Detected added index 'ix_work_order_outputs_archived_at' on '('archived_at',)'
INFO  [alembic.autogenerate.compare] Detected added index 'ix_work_order_outputs_deleted_at' on '('deleted_at',)'
INFO  [alembic.autogenerate.compare] Detected added index 'ix_work_order_outputs_version' on '('version',)'
INFO  [alembic.autogenerate.compare] Detected NULL on column 'work_orders.formula_id'
INFO  [alembic.autogenerate.compare] Detected server default on column 'work_orders.version'
INFO  [alembic.autogenerate.compare] Detected added foreign key (assembly_id)(id) on table work_orders
ERROR [alembic.util.messaging] New upgrade operations detected: [('remove_table', Table('_alembic_tmp_batches', MetaData(), Column('id', VARCHAR(length=36), table=<_alembic_tmp_batches>, primary_key=True, nullable=False), Column('work_order_id', VARCHAR(length=36), ForeignKey('work_orders.id'), table=<_alembic_tmp_batches>, nullable=False), Column('batch_code', VARCHAR(length=50), table=<_alembic_tmp_batches>, nullable=False), Column('quantity_kg', NUMERIC(precision=12, scale=3), table=<_alembic_tmp_batches>, nullable=False), Column('status', VARCHAR(length=20), table=<_alembic_tmp_batches>), Column('started_at', DATETIME(), table=<_alembic_tmp_batches>), Column('completed_at', DATETIME(), table=<_alembic_tmp_batches>), Column('notes', TEXT(), table=<_alembic_tmp_batches>), Column('batch_status', VARCHAR(length=20), table=<_alembic_tmp_batches>), Column('yield_actual', NUMERIC(precision=12, scale=3), table=<_alembic_tmp_batches>), Column('yield_litres', NUMERIC(precision=12, scale=3), table=<_alembic_tmp_batches>), Column('variance_percent', NUMERIC(precision=5, scale=2), table=<_alembic_tmp_batches>), Column('deleted_at', DATETIME(), table=<_alembic_tmp_batches>), Column('deleted_by', VARCHAR(length=100), table=<_alembic_tmp_batches>), Column('version', INTEGER(), table=<_alembic_tmp_batches>, nullable=False, server_default=DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B145FFD250>, for_update=False)), Column('versioned_at', DATETIME(), table=<_alembic_tmp_batches>), Column('versioned_by', VARCHAR(length=100), table=<_alembic_tmp_batches>), Column('previous_version_id', VARCHAR(length=36), table=<_alembic_tmp_batches>), Column('archived_at', DATETIME(), table=<_alembic_tmp_batches>), Column('archived_by', VARCHAR(length=100), table=<_alembic_tmp_batches>), Column('created_at', DATETIME(), table=<_alembic_tmp_batches>), Column('updated_at', DATETIME(), table=<_alembic_tmp_batches>), Column('product_id', VARCHAR(length=36), table=<_alembic_tmp_batches>), Column('mfg_date', DATE(), table=<_alembic_tmp_batches>), Column('exp_date', DATE(), table=<_alembic_tmp_batches>), Column('meta', TEXT(), table=<_alembic_tmp_batches>), schema=None)), ('remove_table', Table('_alembic_tmp_assembly_lines', MetaData(), Column('id', VARCHAR(length=36), table=<_alembic_tmp_assembly_lines>, primary_key=True, nullable=False), Column('assembly_id', VARCHAR(length=36), ForeignKey('assemblies.id'), table=<_alembic_tmp_assembly_lines>, nullable=False), Column('component_product_id', VARCHAR(length=36), ForeignKey('products.id'), table=<_alembic_tmp_assembly_lines>, nullable=False), Column('quantity', NUMERIC(precision=12, scale=3), table=<_alembic_tmp_assembly_lines>, nullable=False), Column('sequence', INTEGER(), table=<_alembic_tmp_assembly_lines>, nullable=False), Column('unit', VARCHAR(length=10), table=<_alembic_tmp_assembly_lines>), Column('is_energy_or_overhead', BOOLEAN(), table=<_alembic_tmp_assembly_lines>), Column('notes', TEXT(), table=<_alembic_tmp_assembly_lines>), Column('deleted_at', DATETIME(), table=<_alembic_tmp_assembly_lines>), Column('deleted_by', VARCHAR(length=100), table=<_alembic_tmp_assembly_lines>), Column('version', INTEGER(), table=<_alembic_tmp_assembly_lines>, nullable=False), Column('versioned_at', DATETIME(), table=<_alembic_tmp_assembly_lines>), Column('versioned_by', VARCHAR(length=100), table=<_alembic_tmp_assembly_lines>), Column('previous_version_id', VARCHAR(length=36), table=<_alembic_tmp_assembly_lines>), Column('archived_at', DATETIME(), table=<_alembic_tmp_assembly_lines>), Column('archived_by', VARCHAR(length=100), table=<_alembic_tmp_assembly_lines>), Column('created_at', DATETIME(), table=<_alembic_tmp_assembly_lines>, nullable=False), Column('updated_at', DATETIME(), table=<_alembic_tmp_assembly_lines>, nullable=False), schema=None)), [('modify_default', None, 'assembly_lines', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B146264A10>, for_update=False), None)], [('modify_nullable', None, 'assembly_lines', 'created_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_nullable', None, 'assembly_lines', 'updated_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_default', None, 'batch_components', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1461B8140>, for_update=False), None)], [('modify_nullable', None, 'batch_components', 'created_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_nullable', None, 'batch_components', 'updated_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_default', None, 'batch_lines', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1463415B0>, for_update=False), None)], [('modify_nullable', None, 'batch_lines', 'created_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_nullable', None, 'batch_lines', 'updated_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_default', None, 'batch_seq', 'seq', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1462C4F80>, for_update=False), None)], [('modify_nullable', None, 'batches', 'work_order_id', {'existing_type': VARCHAR(length=36), 'existing_server_default': False, 'existing_comment': None}, False, True)], [('modify_default', None, 'batches', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B14617A6C0>, for_update=False), None)], [('modify_nullable', None, 'batches', 'created_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_nullable', None, 'batches', 'updated_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], ('remove_index', Index('ix_batch_wo_code', Column('work_order_id', VARCHAR(length=36), table=<batches>, nullable=False), Column('batch_code', VARCHAR(length=50), table=<batches>, nullable=False))), ('remove_constraint', UniqueConstraint(Column('work_order_id', NullType(), table=<batches>), Column('batch_code', NullType(), table=<batches>))), ('add_constraint', UniqueConstraint(Column('batch_code', NullType(), table=<batches>))), ('add_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B1460DABB0>, None, name='fk_batches__product_id__products', table=Table('batches', MetaData(), Column('product_id', NullType(), ForeignKey('products.id'), table=<batches>), schema=None))), [('modify_default', None, 'contacts', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1463A7FE0>, for_update=False), None)], [('modify_default', None, 'customer_prices', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B146368A70>, for_update=False), None)], [('modify_nullable', None, 'customer_prices', 'created_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_nullable', None, 'customer_prices', 'updated_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], ('add_column', None, 'customer_sites', Column('deleted_by', String(length=100), table=<customer_sites>)), ('add_column', None, 'customer_sites', Column('version', Integer(), table=<customer_sites>, nullable=False, default=ScalarElementColumnDefault(1))), ('add_column', None, 'customer_sites', Column('versioned_at', DateTime(), table=<customer_sites>)), ('add_column', None, 'customer_sites', Column('versioned_by', String(length=100), table=<customer_sites>)), ('add_column', None, 'customer_sites', Column('previous_version_id', String(length=36), table=<customer_sites>)), ('add_column', None, 'customer_sites', Column('archived_at', DateTime(), table=<customer_sites>)), ('add_column', None, 'customer_sites', Column('archived_by', String(length=100), table=<customer_sites>)), ('add_index', Index('ix_customer_sites_archived_at', Column('archived_at', DateTime(), table=<customer_sites>))), ('add_index', Index('ix_customer_sites_deleted_at', Column('deleted_at', DateTime(), table=<customer_sites>))), ('add_index', Index('ix_customer_sites_version', Column('version', Integer(), table=<customer_sites>, nullable=False, default=ScalarElementColumnDefault(1)))), ('remove_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B146689E90>, None, name='fk_customer_sites__customer_id__customers', ondelete='CASCADE', table=Table('customer_sites', MetaData(), Column('customer_id', NullType(), ForeignKey('customers.id'), table=<customer_sites>), schema=None))), ('add_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B146689EE0>, None, name='fk_customer_sites__customer_id__customers', table=Table('customer_sites', MetaData(), Column('customer_id', NullType(), ForeignKey('customers.id'), table=<customer_sites>), schema=None))), [('modify_default', None, 'customers', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B14614D6D0>, for_update=False), None)], [('modify_default', None, 'excise_rates', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B146125520>, for_update=False), None)], [('modify_default', None, 'finished_goods', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1442CEAE0>, for_update=False), None)], [('modify_default', None, 'formula_lines', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1463A6750>, for_update=False), None)], [('modify_nullable', None, 'formula_lines', 'created_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_nullable', None, 'formula_lines', 'updated_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_default', None, 'formulas', 'yield_factor', {'existing_nullable': True, 'existing_type': NUMERIC(precision=10, scale=4), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1460B3260>, for_update=False), None)], [('modify_default', None, 'inventory_lots', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1460FB290>, for_update=False), None)], [('modify_type', None, 'inventory_movements', 'qty', {'existing_nullable': False, 'existing_server_default': False, 'existing_comment': None}, NUMERIC(precision=12, scale=3), Numeric(precision=12, scale=4))], [('modify_nullable', None, 'inventory_movements', 'direction', {'existing_type': VARCHAR(length=10), 'existing_server_default': False, 'existing_comment': None}, False, True)], [('modify_default', None, 'inventory_movements', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B14628EE70>, for_update=False), None)], [('modify_nullable', None, 'inventory_movements', 'created_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_nullable', None, 'inventory_movements', 'updated_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], ('add_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B146287470>, None, name='fk_inventory_movements__batch_id__batches', table=Table('inventory_movements', MetaData(), Column('batch_id', NullType(), ForeignKey('batches.id'), table=<inventory_movements>), schema=None))), [('modify_default', None, 'inventory_reservations', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B14636A750>, for_update=False), None)], [('modify_default', None, 'inventory_txns', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B146237530>, for_update=False), None)], [('modify_default', None, 'invoice_lines', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1460B2B40>, for_update=False), None)], [('modify_nullable', None, 'invoice_lines', 'created_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_nullable', None, 'invoice_lines', 'updated_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_default', None, 'invoices', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1461BA1E0>, for_update=False), None)], [('modify_nullable', None, 'invoices', 'created_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_nullable', None, 'invoices', 'updated_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_default', None, 'pack_conversions', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1462F67E0>, for_update=False), None)], [('modify_default', None, 'pack_units', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B146235D30>, for_update=False), None)], [('modify_default', None, 'po_lines', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1462C4770>, for_update=False), None)], [('modify_nullable', None, 'po_lines', 'created_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_nullable', None, 'po_lines', 'updated_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_default', None, 'price_list_items', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1462F7B60>, for_update=False), None)], [('modify_nullable', None, 'price_list_items', 'created_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_nullable', None, 'price_list_items', 'updated_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_default', None, 'price_lists', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B146267050>, for_update=False), None)], ('add_column', None, 'pricebook_items', Column('deleted_by', String(length=100), table=<pricebook_items>)), ('add_column', None, 'pricebook_items', Column('version', Integer(), table=<pricebook_items>, nullable=False, default=ScalarElementColumnDefault(1))), ('add_column', None, 'pricebook_items', Column('versioned_at', DateTime(), table=<pricebook_items>)), ('add_column', None, 'pricebook_items', Column('versioned_by', String(length=100), table=<pricebook_items>)), ('add_column', None, 'pricebook_items', Column('previous_version_id', String(length=36), table=<pricebook_items>)), ('add_column', None, 'pricebook_items', Column('archived_at', DateTime(), table=<pricebook_items>)), ('add_column', None, 'pricebook_items', Column('archived_by', String(length=100), table=<pricebook_items>)), ('add_index', Index('ix_pricebook_items_archived_at', Column('archived_at', DateTime(), table=<pricebook_items>))), ('add_index', Index('ix_pricebook_items_deleted_at', Column('deleted_at', DateTime(), table=<pricebook_items>))), ('add_index', Index('ix_pricebook_items_version', Column('version', Integer(), table=<pricebook_items>, nullable=False, default=ScalarElementColumnDefault(1)))), ('remove_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B146689F80>, None, name='fk_pricebook_items__pricebook_id__pricebooks', ondelete='CASCADE', table=Table('pricebook_items', MetaData(), Column('pricebook_id', NullType(), ForeignKey('pricebooks.id'), table=<pricebook_items>), schema=None))), ('remove_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B146689FD0>, None, name='fk_pricebook_items__product_id__products', ondelete='RESTRICT', table=Table('pricebook_items', MetaData(), Column('product_id', NullType(), ForeignKey('products.id'), table=<pricebook_items>), schema=None))), ('add_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B146689F30>, None, name='fk_pricebook_items__pricebook_id__pricebooks', table=Table('pricebook_items', MetaData(), Column('pricebook_id', NullType(), ForeignKey('pricebooks.id'), table=<pricebook_items>), schema=None))), ('add_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B14668A020>, None, name='fk_pricebook_items__product_id__products', table=Table('pricebook_items', MetaData(), Column('product_id', NullType(), ForeignKey('products.id'), table=<pricebook_items>), schema=None))), ('add_column', None, 'pricebooks', Column('deleted_by', String(length=100), table=<pricebooks>)), ('add_column', None, 'pricebooks', Column('version', Integer(), table=<pricebooks>, nullable=False, default=ScalarElementColumnDefault(1))), ('add_column', None, 'pricebooks', Column('versioned_at', DateTime(), table=<pricebooks>)), ('add_column', None, 'pricebooks', Column('versioned_by', String(length=100), table=<pricebooks>)), ('add_column', None, 'pricebooks', Column('previous_version_id', String(length=36), table=<pricebooks>)), ('add_column', None, 'pricebooks', Column('archived_at', DateTime(), table=<pricebooks>)), ('add_column', None, 'pricebooks', Column('archived_by', String(length=100), table=<pricebooks>)), [('modify_default', None, 'pricebooks', 'currency', {'existing_nullable': False, 'existing_type': VARCHAR(length=8), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B146179940>, for_update=False), None)], ('remove_constraint', UniqueConstraint(Column('name', NullType(), table=<pricebooks>))), ('add_index', Index('ix_pricebooks_archived_at', Column('archived_at', DateTime(), table=<pricebooks>))), ('add_index', Index('ix_pricebooks_deleted_at', Column('deleted_at', DateTime(), table=<pricebooks>))), ('add_index', Index('ix_pricebooks_version', Column('version', Integer(), table=<pricebooks>, nullable=False, default=ScalarElementColumnDefault(1)))), ('add_constraint', UniqueConstraint(Column('name', NullType(), table=<pricebooks>))), [('modify_default', None, 'product_channel_links', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B14628D640>, for_update=False), None)], [('modify_nullable', None, 'product_channel_links', 'created_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_nullable', None, 'product_channel_links', 'updated_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_default', None, 'product_cost_rates', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1461246B0>, for_update=False), None)], ('remove_index', Index('ix_cost_rate_code', Column('rate_code', VARCHAR(length=50), table=<product_cost_rates>, nullable=False), unique=True)), ('add_index', Index('ix_cost_rate_code', Column('rate_code', String(length=50), table=<product_cost_rates>, nullable=False))), ('add_index', Index('ix_product_cost_rates_archived_at', Column('archived_at', DateTime(), table=<product_cost_rates>))), ('add_index', Index('ix_product_cost_rates_deleted_at', Column('deleted_at', DateTime(), table=<product_cost_rates>))), ('add_index', Index('ix_product_cost_rates_rate_code', Column('rate_code', String(length=50), table=<product_cost_rates>, nullable=False), unique=True)), ('add_index', Index('ix_product_cost_rates_version', Column('version', Integer(), table=<product_cost_rates>, nullable=False, default=ScalarElementColumnDefault(1)))), [('modify_default', None, 'product_variants', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B14620E8D0>, for_update=False), None)], [('modify_type', None, 'products', 'id', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=36)), ('modify_nullable', None, 'products', 'id', {'existing_type': TEXT(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_type', None, 'products', 'sku', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=50))], [('modify_type', None, 'products', 'name', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=200))], [('modify_type', None, 'products', 'ean13', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=20))], [('modify_type', None, 'products', 'product_type', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=20))], [('modify_type', None, 'products', 'is_purchase', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, NUMERIC(), Boolean())], [('modify_type', None, 'products', 'is_sell', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, NUMERIC(), Boolean())], [('modify_type', None, 'products', 'is_assemble', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, NUMERIC(), Boolean())], [('modify_type', None, 'products', 'is_tracked', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, NUMERIC(), Boolean())], [('modify_type', None, 'products', 'sellable', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, NUMERIC(), Boolean())], [('modify_default', None, 'products', 'allow_negative_inventory', {'existing_nullable': False, 'existing_type': BOOLEAN(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1460F8D10>, for_update=False), None)], [('modify_type', None, 'products', 'is_archived', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, NUMERIC(), Boolean())], [('modify_type', None, 'products', 'raw_material_search_key', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=10))], [('modify_type', None, 'products', 'raw_material_search_ext', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=10))], [('modify_type', None, 'products', 'usage_unit', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=10))], [('modify_type', None, 'products', 'usage_tax_included', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=1))], [('modify_type', None, 'products', 'hazard', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=1))], [('modify_type', None, 'products', 'condition', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=1))], [('modify_type', None, 'products', 'msds_flag', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=1))], [('modify_type', None, 'products', 'last_movement_date', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=10))], [('modify_type', None, 'products', 'last_purchase_date', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=10))], [('modify_type', None, 'products', 'xero_account', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=50))], [('modify_type', None, 'products', 'size', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=10))], [('modify_type', None, 'products', 'base_unit', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=10))], [('modify_type', None, 'products', 'supplier_id', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=36))], [('modify_type', None, 'products', 'purchase_unit_id', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=36))], [('modify_type', None, 'products', 'purchase_tax_included', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=1))], [('modify_type', None, 'products', 'estimated_by', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=100))], [('modify_type', None, 'products', 'estimated_at', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, NUMERIC(), DateTime())], [('modify_type', None, 'products', 'manufactured_tax_included', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=1))], [('modify_type', None, 'products', 'retailcde', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, NUMERIC(), String(length=1))], [('modify_type', None, 'products', 'wholesalecde', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, NUMERIC(), String(length=1))], [('modify_type', None, 'products', 'countercde', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, NUMERIC(), String(length=1))], [('modify_type', None, 'products', 'tradecde', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, NUMERIC(), String(length=1))], [('modify_type', None, 'products', 'contractcde', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, NUMERIC(), String(length=1))], [('modify_type', None, 'products', 'industrialcde', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, NUMERIC(), String(length=1))], [('modify_type', None, 'products', 'distributorcde', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, NUMERIC(), String(length=1))], [('modify_type', None, 'products', 'dgflag', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=1))], [('modify_type', None, 'products', 'form', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=10))], [('modify_type', None, 'products', 'taxinc', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=1))], [('modify_type', None, 'products', 'salestaxcde', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=1))], [('modify_type', None, 'products', 'disccdeone', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=1))], [('modify_type', None, 'products', 'disccdetwo', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=1))], [('modify_type', None, 'products', 'xero_item_id', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=100))], [('modify_type', None, 'products', 'last_sync', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, NUMERIC(), DateTime())], [('modify_type', None, 'products', 'is_active', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, NUMERIC(), Boolean())], [('modify_default', None, 'products', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1460F89B0>, for_update=False), None)], [('modify_type', None, 'products', 'archived_at', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, NUMERIC(), DateTime())], [('modify_type', None, 'products', 'created_at', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, NUMERIC(), DateTime()), ('modify_nullable', None, 'products', 'created_at', {'existing_type': NUMERIC(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_type', None, 'products', 'updated_at', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, NUMERIC(), DateTime()), ('modify_nullable', None, 'products', 'updated_at', {'existing_type': NUMERIC(), 'existing_server_default': False, 'existing_comment': None}, True, False)], ('add_index', Index('ix_products_product_type', Column('product_type', String(length=20), table=<products>))), ('add_index', Index('ix_products_raw_material_code', Column('raw_material_code', Integer(), table=<products>))), ('add_index', Index('ix_products_sku', Column('sku', String(length=50), table=<products>), unique=True)), ('add_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B14668A160>, None, name='fk_products__supplier_id__contacts', table=Table('products', MetaData(), Column('supplier_id', NullType(), ForeignKey('contacts.id'), table=<products>), schema=None))), ('add_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B14668A110>, None, name='fk_products__purchase_format_id__purchase_formats', table=Table('products', MetaData(), Column('purchase_format_id', NullType(), ForeignKey('purchase_formats.id'), table=<products>), schema=None))), ('add_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B14668A200>, None, name='fk_products__purchase_unit_id__units', table=Table('products', MetaData(), Column('purchase_unit_id', NullType(), ForeignKey('units.id'), table=<products>), schema=None))), ('remove_column', None, 'products', Column('purchase_volume', NUMERIC(), table=<products>)), ('remove_column', None, 'products', Column('raw_material_group_id', TEXT(), table=<products>)), ('remove_column', None, 'products', Column('pack', INTEGER(), table=<products>)), ('remove_column', None, 'products', Column('formula_id', TEXT(), table=<products>)), ('remove_column', None, 'products', Column('formula_revision', INTEGER(), table=<products>)), [('modify_default', None, 'purchase_orders', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1462677A0>, for_update=False), None)], [('modify_nullable', None, 'purchase_orders', 'created_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_nullable', None, 'purchase_orders', 'updated_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_default', None, 'qc_results', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B146178DA0>, for_update=False), None)], [('modify_nullable', None, 'qc_results', 'created_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_nullable', None, 'qc_results', 'updated_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_default', None, 'qc_test_types', 'is_active', {'existing_nullable': False, 'existing_type': BOOLEAN(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1462C7E00>, for_update=False), None)], [('modify_default', None, 'qc_test_types', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1462F47D0>, for_update=False), None)], ('remove_constraint', UniqueConstraint(Column('code', NullType(), table=<qc_test_types>))), ('remove_index', Index('ix_qc_test_types_code', Column('code', VARCHAR(length=50), table=<qc_test_types>, nullable=False))), ('add_index', Index('ix_qc_test_types_code', Column('code', String(length=50), table=<qc_test_types>, nullable=False), unique=True)), ('add_index', Index('ix_qc_test_types_archived_at', Column('archived_at', DateTime(), table=<qc_test_types>))), ('add_index', Index('ix_qc_test_types_deleted_at', Column('deleted_at', DateTime(), table=<qc_test_types>))), ('add_index', Index('ix_qc_test_types_version', Column('version', Integer(), table=<qc_test_types>, nullable=False, default=ScalarElementColumnDefault(1)))), [('modify_default', None, 'quality_test_definitions', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B146195D30>, for_update=False), None)], [('modify_default', None, 'revaluations', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1460F9A90>, for_update=False), None)], [('modify_nullable', None, 'revaluations', 'created_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_nullable', None, 'revaluations', 'updated_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], ('add_column', None, 'sales_channels', Column('deleted_by', String(length=100), table=<sales_channels>)), ('add_column', None, 'sales_channels', Column('version', Integer(), table=<sales_channels>, nullable=False, default=ScalarElementColumnDefault(1))), ('add_column', None, 'sales_channels', Column('versioned_at', DateTime(), table=<sales_channels>)), ('add_column', None, 'sales_channels', Column('versioned_by', String(length=100), table=<sales_channels>)), ('add_column', None, 'sales_channels', Column('previous_version_id', String(length=36), table=<sales_channels>)), ('add_column', None, 'sales_channels', Column('archived_at', DateTime(), table=<sales_channels>)), ('add_column', None, 'sales_channels', Column('archived_by', String(length=100), table=<sales_channels>)), ('remove_constraint', UniqueConstraint(Column('code', NullType(), table=<sales_channels>))), ('add_index', Index('ix_sales_channels_archived_at', Column('archived_at', DateTime(), table=<sales_channels>))), ('add_index', Index('ix_sales_channels_code', Column('code', String(length=50), table=<sales_channels>, nullable=False), unique=True)), ('add_index', Index('ix_sales_channels_deleted_at', Column('deleted_at', DateTime(), table=<sales_channels>))), ('add_index', Index('ix_sales_channels_version', Column('version', Integer(), table=<sales_channels>, nullable=False, default=ScalarElementColumnDefault(1)))), [('modify_default', None, 'sales_order_lines', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1461B9BB0>, for_update=False), None)], ('add_index', Index('ix_sales_order_lines_archived_at', Column('archived_at', DateTime(), table=<sales_order_lines>))), ('add_index', Index('ix_sales_order_lines_deleted_at', Column('deleted_at', DateTime(), table=<sales_order_lines>))), ('add_index', Index('ix_sales_order_lines_version', Column('version', Integer(), table=<sales_order_lines>, nullable=False, default=ScalarElementColumnDefault(1)))), ('remove_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B14668A1B0>, None, name='fk_sales_order_lines__order_id__sales_orders', ondelete='CASCADE', table=Table('sales_order_lines', MetaData(), Column('order_id', NullType(), ForeignKey('sales_orders.id'), table=<sales_order_lines>), schema=None))), ('add_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B14668A340>, None, name='fk_sales_order_lines__product_id__products', table=Table('sales_order_lines', MetaData(), Column('product_id', NullType(), ForeignKey('products.id'), table=<sales_order_lines>), schema=None))), ('add_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B14668A390>, None, name='fk_sales_order_lines__order_id__sales_orders', table=Table('sales_order_lines', MetaData(), Column('order_id', NullType(), ForeignKey('sales_orders.id'), table=<sales_order_lines>), schema=None))), ('add_column', None, 'sales_order_tags', Column('deleted_by', String(length=100), table=<sales_order_tags>)), ('add_column', None, 'sales_order_tags', Column('version', Integer(), table=<sales_order_tags>, nullable=False, default=ScalarElementColumnDefault(1))), ('add_column', None, 'sales_order_tags', Column('versioned_at', DateTime(), table=<sales_order_tags>)), ('add_column', None, 'sales_order_tags', Column('versioned_by', String(length=100), table=<sales_order_tags>)), ('add_column', None, 'sales_order_tags', Column('previous_version_id', String(length=36), table=<sales_order_tags>)), ('add_column', None, 'sales_order_tags', Column('archived_at', DateTime(), table=<sales_order_tags>)), ('add_column', None, 'sales_order_tags', Column('archived_by', String(length=100), table=<sales_order_tags>)), ('add_index', Index('ix_sales_order_tags_archived_at', Column('archived_at', DateTime(), table=<sales_order_tags>))), ('add_index', Index('ix_sales_order_tags_deleted_at', Column('deleted_at', DateTime(), table=<sales_order_tags>))), ('add_index', Index('ix_sales_order_tags_version', Column('version', Integer(), table=<sales_order_tags>, nullable=False, default=ScalarElementColumnDefault(1)))), ('remove_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B14668A2A0>, None, name='fk_sales_order_tags__order_id__sales_orders', ondelete='CASCADE', table=Table('sales_order_tags', MetaData(), Column('order_id', NullType(), ForeignKey('sales_orders.id'), table=<sales_order_tags>), schema=None))), ('remove_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B14668A430>, None, name='fk_sales_order_tags__tag_id__sales_tags', ondelete='CASCADE', table=Table('sales_order_tags', MetaData(), Column('tag_id', NullType(), ForeignKey('sales_tags.id'), table=<sales_order_tags>), schema=None))), ('add_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B14668A480>, None, name='fk_sales_order_tags__tag_id__sales_tags', table=Table('sales_order_tags', MetaData(), Column('tag_id', NullType(), ForeignKey('sales_tags.id'), table=<sales_order_tags>), schema=None))), ('add_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B14668A3E0>, None, name='fk_sales_order_tags__order_id__sales_orders', table=Table('sales_order_tags', MetaData(), Column('order_id', NullType(), ForeignKey('sales_orders.id'), table=<sales_order_tags>), schema=None))), ('add_column', None, 'sales_orders', Column('pricebook_id', String(length=36), ForeignKey('pricebooks.id'), table=<sales_orders>)), [('modify_nullable', None, 'sales_orders', 'order_ref', {'existing_type': VARCHAR(length=50), 'existing_server_default': False, 'existing_comment': None}, False, True)], [('modify_nullable', None, 'sales_orders', 'order_date', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_default', None, 'sales_orders', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B146126B40>, for_update=False), None)], [('modify_nullable', None, 'sales_orders', 'created_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_nullable', None, 'sales_orders', 'updated_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], ('remove_index', Index('ix_sales_order_so_number', Column('order_ref', VARCHAR(length=50), table=<sales_orders>, nullable=False))), ('add_index', Index('ix_sales_orders_order_ref', Column('order_ref', String(length=50), table=<sales_orders>))), ('add_index', Index('ix_sales_orders_pricebook', Column('pricebook_id', String(length=36), table=<sales_orders>))), ('remove_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B14668A4D0>, None, name='fk_sales_orders__customer_site_id__customer_sites', ondelete='SET NULL', table=Table('sales_orders', MetaData(), Column('customer_site_id', NullType(), ForeignKey('customer_sites.id'), table=<sales_orders>), schema=None))), ('remove_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B14668A520>, None, name='fk_sales_orders__channel_id__sales_channels', ondelete='RESTRICT', table=Table('sales_orders', MetaData(), Column('channel_id', NullType(), ForeignKey('sales_channels.id'), table=<sales_orders>), schema=None))), ('add_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B14668A570>, None, name='fk_sales_orders__pricebook_id__pricebooks', table=Table('sales_orders', MetaData(), Column('pricebook_id', NullType(), ForeignKey('pricebooks.id'), table=<sales_orders>), schema=None))), ('add_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B14668A5C0>, None, name='fk_sales_orders__channel_id__sales_channels', table=Table('sales_orders', MetaData(), Column('channel_id', NullType(), ForeignKey('sales_channels.id'), table=<sales_orders>), schema=None))), ('add_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B14668A610>, None, name='fk_sales_orders__customer_site_id__customer_sites', table=Table('sales_orders', MetaData(), Column('customer_site_id', NullType(), ForeignKey('customer_sites.id'), table=<sales_orders>), schema=None))), ('add_column', None, 'sales_tags', Column('deleted_by', String(length=100), table=<sales_tags>)), ('add_column', None, 'sales_tags', Column('version', Integer(), table=<sales_tags>, nullable=False, default=ScalarElementColumnDefault(1))), ('add_column', None, 'sales_tags', Column('versioned_at', DateTime(), table=<sales_tags>)), ('add_column', None, 'sales_tags', Column('versioned_by', String(length=100), table=<sales_tags>)), ('add_column', None, 'sales_tags', Column('previous_version_id', String(length=36), table=<sales_tags>)), ('add_column', None, 'sales_tags', Column('archived_at', DateTime(), table=<sales_tags>)), ('add_column', None, 'sales_tags', Column('archived_by', String(length=100), table=<sales_tags>)), ('remove_constraint', UniqueConstraint(Column('slug', NullType(), table=<sales_tags>))), ('add_index', Index('ix_sales_tags_archived_at', Column('archived_at', DateTime(), table=<sales_tags>))), ('add_index', Index('ix_sales_tags_deleted_at', Column('deleted_at', DateTime(), table=<sales_tags>))), ('add_index', Index('ix_sales_tags_slug', Column('slug', String(length=100), table=<sales_tags>, nullable=False), unique=True)), ('add_index', Index('ix_sales_tags_version', Column('version', Integer(), table=<sales_tags>, nullable=False, default=ScalarElementColumnDefault(1)))), [('modify_default', None, 'suppliers', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B14620D700>, for_update=False), None)], [('modify_default', None, 'units', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B146368470>, for_update=False), None)], [('modify_default', None, 'wo_qc_tests', 'status', {'existing_nullable': False, 'existing_type': VARCHAR(length=20), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1462C7260>, for_update=False), None)], [('modify_default', None, 'wo_qc_tests', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1462C7560>, for_update=False), None)], ('add_index', Index('ix_wo_qc_tests_archived_at', Column('archived_at', DateTime(), table=<wo_qc_tests>))), ('add_index', Index('ix_wo_qc_tests_deleted_at', Column('deleted_at', DateTime(), table=<wo_qc_tests>))), ('add_index', Index('ix_wo_qc_tests_version', Column('version', Integer(), table=<wo_qc_tests>, nullable=False, default=ScalarElementColumnDefault(1)))), ('remove_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B14668A700>, None, name='fk_wo_qc_tests__test_type_id__qc_test_types', ondelete='SET NULL', table=Table('wo_qc_tests', MetaData(), Column('test_type_id', NullType(), ForeignKey('qc_test_types.id'), table=<wo_qc_tests>), schema=None))), ('add_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B14668A750>, None, name='fk_wo_qc_tests__test_type_id__qc_test_types', table=Table('wo_qc_tests', MetaData(), Column('test_type_id', NullType(), ForeignKey('qc_test_types.id'), table=<wo_qc_tests>), schema=None))), [('modify_default', None, 'wo_timers', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1462F5460>, for_update=False), None)], ('add_index', Index('ix_wo_timers_archived_at', Column('archived_at', DateTime(), table=<wo_timers>))), ('add_index', Index('ix_wo_timers_deleted_at', Column('deleted_at', DateTime(), table=<wo_timers>))), ('add_index', Index('ix_wo_timers_version', Column('version', Integer(), table=<wo_timers>, nullable=False, default=ScalarElementColumnDefault(1)))), [('modify_default', None, 'work_areas', 'is_active', {'existing_nullable': True, 'existing_type': BOOLEAN(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B14620F290>, for_update=False), None)], [('modify_type', None, 'work_areas', 'deleted_by', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, VARCHAR(length=36), String(length=100))], [('modify_nullable', None, 'work_areas', 'version', {'existing_type': INTEGER(), 'existing_server_default': DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B14620FC50>, for_update=False), 'existing_comment': None}, True, False), ('modify_default', None, 'work_areas', 'version', {'existing_nullable': True, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B14620FC50>, for_update=False), None)], [('modify_type', None, 'work_areas', 'versioned_by', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, VARCHAR(length=36), String(length=100))], [('modify_type', None, 'work_areas', 'archived_by', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, VARCHAR(length=36), String(length=100))], [('modify_nullable', None, 'work_areas', 'created_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_nullable', None, 'work_areas', 'updated_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], ('remove_index', Index('ix_work_area_code', Column('code', VARCHAR(length=20), table=<work_areas>, nullable=False), unique=True)), ('add_index', Index('ix_work_area_code', Column('code', String(length=20), table=<work_areas>, nullable=False))), ('add_index', Index('ix_work_areas_archived_at', Column('archived_at', DateTime(), table=<work_areas>))), ('add_index', Index('ix_work_areas_code', Column('code', String(length=20), table=<work_areas>, nullable=False), unique=True)), ('add_index', Index('ix_work_areas_deleted_at', Column('deleted_at', DateTime(), table=<work_areas>))), ('add_index', Index('ix_work_areas_version', Column('version', Integer(), table=<work_areas>, nullable=False, default=ScalarElementColumnDefault(1)))), [('modify_nullable', None, 'work_order_lines', 'component_product_id', {'existing_type': VARCHAR(length=36), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_nullable', None, 'work_order_lines', 'ingredient_product_id', {'existing_type': VARCHAR(length=36), 'existing_server_default': False, 'existing_comment': None}, False, True)], [('modify_nullable', None, 'work_order_lines', 'required_quantity_kg', {'existing_type': NUMERIC(precision=12, scale=3), 'existing_server_default': False, 'existing_comment': None}, False, True)], [('modify_default', None, 'work_order_lines', 'line_type', {'existing_nullable': True, 'existing_type': VARCHAR(length=20), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B14614C7A0>, for_update=False), None)], [('modify_default', None, 'work_order_lines', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1460FA390>, for_update=False), None)], [('modify_nullable', None, 'work_order_lines', 'created_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_nullable', None, 'work_order_lines', 'updated_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], ('add_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B14668A7A0>, None, name='fk_work_order_lines__source_batch_id__batches', table=Table('work_order_lines', MetaData(), Column('source_batch_id', NullType(), ForeignKey('batches.id'), table=<work_order_lines>), schema=None))), ('add_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B14668A6B0>, None, name='fk_work_order_lines__component_product_id__products', table=Table('work_order_lines', MetaData(), Column('component_product_id', NullType(), ForeignKey('products.id'), table=<work_order_lines>), schema=None))), [('modify_default', None, 'work_order_outputs', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1463A5310>, for_update=False), None)], ('add_index', Index('ix_work_order_outputs_archived_at', Column('archived_at', DateTime(), table=<work_order_outputs>))), ('add_index', Index('ix_work_order_outputs_deleted_at', Column('deleted_at', DateTime(), table=<work_order_outputs>))), ('add_index', Index('ix_work_order_outputs_version', Column('version', Integer(), table=<work_order_outputs>, nullable=False, default=ScalarElementColumnDefault(1)))), [('modify_nullable', None, 'work_orders', 'formula_id', {'existing_type': VARCHAR(length=36), 'existing_server_default': False, 'existing_comment': None}, False, True)], [('modify_default', None, 'work_orders', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B146194050>, for_update=False), None)], ('add_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B14668A7F0>, None, name='fk_work_orders__assembly_id__assemblies', table=Table('work_orders', MetaData(), Column('assembly_id', NullType(), ForeignKey('assemblies.id'), table=<work_orders>), schema=None)))]
FAILED: New upgrade operations detected: [('remove_table', Table('_alembic_tmp_batches', MetaData(), Column('id', VARCHAR(length=36), table=<_alembic_tmp_batches>, primary_key=True, nullable=False), Column('work_order_id', VARCHAR(length=36), ForeignKey('work_orders.id'), table=<_alembic_tmp_batches>, nullable=False), Column('batch_code', VARCHAR(length=50), table=<_alembic_tmp_batches>, nullable=False), Column('quantity_kg', NUMERIC(precision=12, scale=3), table=<_alembic_tmp_batches>, nullable=False), Column('status', VARCHAR(length=20), table=<_alembic_tmp_batches>), Column('started_at', DATETIME(), table=<_alembic_tmp_batches>), Column('completed_at', DATETIME(), table=<_alembic_tmp_batches>), Column('notes', TEXT(), table=<_alembic_tmp_batches>), Column('batch_status', VARCHAR(length=20), table=<_alembic_tmp_batches>), Column('yield_actual', NUMERIC(precision=12, scale=3), table=<_alembic_tmp_batches>), Column('yield_litres', NUMERIC(precision=12, scale=3), table=<_alembic_tmp_batches>), Column('variance_percent', NUMERIC(precision=5, scale=2), table=<_alembic_tmp_batches>), Column('deleted_at', DATETIME(), table=<_alembic_tmp_batches>), Column('deleted_by', VARCHAR(length=100), table=<_alembic_tmp_batches>), Column('version', INTEGER(), table=<_alembic_tmp_batches>, nullable=False, server_default=DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B145FFD250>, for_update=False)), Column('versioned_at', DATETIME(), table=<_alembic_tmp_batches>), Column('versioned_by', VARCHAR(length=100), table=<_alembic_tmp_batches>), Column('previous_version_id', VARCHAR(length=36), table=<_alembic_tmp_batches>), Column('archived_at', DATETIME(), table=<_alembic_tmp_batches>), Column('archived_by', VARCHAR(length=100), table=<_alembic_tmp_batches>), Column('created_at', DATETIME(), table=<_alembic_tmp_batches>), Column('updated_at', DATETIME(), table=<_alembic_tmp_batches>), Column('product_id', VARCHAR(length=36), table=<_alembic_tmp_batches>), Column('mfg_date', DATE(), table=<_alembic_tmp_batches>), Column('exp_date', DATE(), table=<_alembic_tmp_batches>), Column('meta', TEXT(), table=<_alembic_tmp_batches>), schema=None)), ('remove_table', Table('_alembic_tmp_assembly_lines', MetaData(), Column('id', VARCHAR(length=36), table=<_alembic_tmp_assembly_lines>, primary_key=True, nullable=False), Column('assembly_id', VARCHAR(length=36), ForeignKey('assemblies.id'), table=<_alembic_tmp_assembly_lines>, nullable=False), Column('component_product_id', VARCHAR(length=36), ForeignKey('products.id'), table=<_alembic_tmp_assembly_lines>, nullable=False), Column('quantity', NUMERIC(precision=12, scale=3), table=<_alembic_tmp_assembly_lines>, nullable=False), Column('sequence', INTEGER(), table=<_alembic_tmp_assembly_lines>, nullable=False), Column('unit', VARCHAR(length=10), table=<_alembic_tmp_assembly_lines>), Column('is_energy_or_overhead', BOOLEAN(), table=<_alembic_tmp_assembly_lines>), Column('notes', TEXT(), table=<_alembic_tmp_assembly_lines>), Column('deleted_at', DATETIME(), table=<_alembic_tmp_assembly_lines>), Column('deleted_by', VARCHAR(length=100), table=<_alembic_tmp_assembly_lines>), Column('version', INTEGER(), table=<_alembic_tmp_assembly_lines>, nullable=False), Column('versioned_at', DATETIME(), table=<_alembic_tmp_assembly_lines>), Column('versioned_by', VARCHAR(length=100), table=<_alembic_tmp_assembly_lines>), Column('previous_version_id', VARCHAR(length=36), table=<_alembic_tmp_assembly_lines>), Column('archived_at', DATETIME(), table=<_alembic_tmp_assembly_lines>), Column('archived_by', VARCHAR(length=100), table=<_alembic_tmp_assembly_lines>), Column('created_at', DATETIME(), table=<_alembic_tmp_assembly_lines>, nullable=False), Column('updated_at', DATETIME(), table=<_alembic_tmp_assembly_lines>, nullable=False), schema=None)), [('modify_default', None, 'assembly_lines', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B146264A10>, for_update=False), None)], [('modify_nullable', None, 'assembly_lines', 'created_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_nullable', None, 'assembly_lines', 'updated_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_default', None, 'batch_components', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1461B8140>, for_update=False), None)], [('modify_nullable', None, 'batch_components', 'created_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_nullable', None, 'batch_components', 'updated_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_default', None, 'batch_lines', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1463415B0>, for_update=False), None)], [('modify_nullable', None, 'batch_lines', 'created_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_nullable', None, 'batch_lines', 'updated_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_default', None, 'batch_seq', 'seq', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1462C4F80>, for_update=False), None)], [('modify_nullable', None, 'batches', 'work_order_id', {'existing_type': VARCHAR(length=36), 'existing_server_default': False, 'existing_comment': None}, False, True)], [('modify_default', None, 'batches', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B14617A6C0>, for_update=False), None)], [('modify_nullable', None, 'batches', 'created_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_nullable', None, 'batches', 'updated_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], ('remove_index', Index('ix_batch_wo_code', Column('work_order_id', VARCHAR(length=36), table=<batches>, nullable=False), Column('batch_code', VARCHAR(length=50), table=<batches>, nullable=False))), ('remove_constraint', UniqueConstraint(Column('work_order_id', NullType(), table=<batches>), Column('batch_code', NullType(), table=<batches>))), ('add_constraint', UniqueConstraint(Column('batch_code', NullType(), table=<batches>))), ('add_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B1460DABB0>, None, name='fk_batches__product_id__products', table=Table('batches', MetaData(), Column('product_id', NullType(), ForeignKey('products.id'), table=<batches>), schema=None))), [('modify_default', None, 'contacts', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1463A7FE0>, for_update=False), None)], [('modify_default', None, 'customer_prices', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B146368A70>, for_update=False), None)], [('modify_nullable', None, 'customer_prices', 'created_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_nullable', None, 'customer_prices', 'updated_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], ('add_column', None, 'customer_sites', Column('deleted_by', String(length=100), table=<customer_sites>)), ('add_column', None, 'customer_sites', Column('version', Integer(), table=<customer_sites>, nullable=False, default=ScalarElementColumnDefault(1))), ('add_column', None, 'customer_sites', Column('versioned_at', DateTime(), table=<customer_sites>)), ('add_column', None, 'customer_sites', Column('versioned_by', String(length=100), table=<customer_sites>)), ('add_column', None, 'customer_sites', Column('previous_version_id', String(length=36), table=<customer_sites>)), ('add_column', None, 'customer_sites', Column('archived_at', DateTime(), table=<customer_sites>)), ('add_column', None, 'customer_sites', Column('archived_by', String(length=100), table=<customer_sites>)), ('add_index', Index('ix_customer_sites_archived_at', Column('archived_at', DateTime(), table=<customer_sites>))), ('add_index', Index('ix_customer_sites_deleted_at', Column('deleted_at', DateTime(), table=<customer_sites>))), ('add_index', Index('ix_customer_sites_version', Column('version', Integer(), table=<customer_sites>, nullable=False, default=ScalarElementColumnDefault(1)))), ('remove_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B146689E90>, None, name='fk_customer_sites__customer_id__customers', ondelete='CASCADE', table=Table('customer_sites', MetaData(), Column('customer_id', NullType(), ForeignKey('customers.id'), table=<customer_sites>), schema=None))), ('add_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B146689EE0>, None, name='fk_customer_sites__customer_id__customers', table=Table('customer_sites', MetaData(), Column('customer_id', NullType(), ForeignKey('customers.id'), table=<customer_sites>), schema=None))), [('modify_default', None, 'customers', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B14614D6D0>, for_update=False), None)], [('modify_default', None, 'excise_rates', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B146125520>, for_update=False), None)], [('modify_default', None, 'finished_goods', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1442CEAE0>, for_update=False), None)], [('modify_default', None, 'formula_lines', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1463A6750>, for_update=False), None)], [('modify_nullable', None, 'formula_lines', 'created_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_nullable', None, 'formula_lines', 'updated_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_default', None, 'formulas', 'yield_factor', {'existing_nullable': True, 'existing_type': NUMERIC(precision=10, scale=4), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1460B3260>, for_update=False), None)], [('modify_default', None, 'inventory_lots', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1460FB290>, for_update=False), None)], [('modify_type', None, 'inventory_movements', 'qty', {'existing_nullable': False, 'existing_server_default': False, 'existing_comment': None}, NUMERIC(precision=12, scale=3), Numeric(precision=12, scale=4))], [('modify_nullable', None, 'inventory_movements', 'direction', {'existing_type': VARCHAR(length=10), 'existing_server_default': False, 'existing_comment': None}, False, True)], [('modify_default', None, 'inventory_movements', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B14628EE70>, for_update=False), None)], [('modify_nullable', None, 'inventory_movements', 'created_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_nullable', None, 'inventory_movements', 'updated_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], ('add_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B146287470>, None, name='fk_inventory_movements__batch_id__batches', table=Table('inventory_movements', MetaData(), Column('batch_id', NullType(), ForeignKey('batches.id'), table=<inventory_movements>), schema=None))), [('modify_default', None, 'inventory_reservations', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B14636A750>, for_update=False), None)], [('modify_default', None, 'inventory_txns', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B146237530>, for_update=False), None)], [('modify_default', None, 'invoice_lines', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1460B2B40>, for_update=False), None)], [('modify_nullable', None, 'invoice_lines', 'created_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_nullable', None, 'invoice_lines', 'updated_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_default', None, 'invoices', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1461BA1E0>, for_update=False), None)], [('modify_nullable', None, 'invoices', 'created_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_nullable', None, 'invoices', 'updated_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_default', None, 'pack_conversions', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1462F67E0>, for_update=False), None)], [('modify_default', None, 'pack_units', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B146235D30>, for_update=False), None)], [('modify_default', None, 'po_lines', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1462C4770>, for_update=False), None)], [('modify_nullable', None, 'po_lines', 'created_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_nullable', None, 'po_lines', 'updated_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_default', None, 'price_list_items', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1462F7B60>, for_update=False), None)], [('modify_nullable', None, 'price_list_items', 'created_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_nullable', None, 'price_list_items', 'updated_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_default', None, 'price_lists', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B146267050>, for_update=False), None)], ('add_column', None, 'pricebook_items', Column('deleted_by', String(length=100), table=<pricebook_items>)), ('add_column', None, 'pricebook_items', Column('version', Integer(), table=<pricebook_items>, nullable=False, default=ScalarElementColumnDefault(1))), ('add_column', None, 'pricebook_items', Column('versioned_at', DateTime(), table=<pricebook_items>)), ('add_column', None, 'pricebook_items', Column('versioned_by', String(length=100), table=<pricebook_items>)), ('add_column', None, 'pricebook_items', Column('previous_version_id', String(length=36), table=<pricebook_items>)), ('add_column', None, 'pricebook_items', Column('archived_at', DateTime(), table=<pricebook_items>)), ('add_column', None, 'pricebook_items', Column('archived_by', String(length=100), table=<pricebook_items>)), ('add_index', Index('ix_pricebook_items_archived_at', Column('archived_at', DateTime(), table=<pricebook_items>))), ('add_index', Index('ix_pricebook_items_deleted_at', Column('deleted_at', DateTime(), table=<pricebook_items>))), ('add_index', Index('ix_pricebook_items_version', Column('version', Integer(), table=<pricebook_items>, nullable=False, default=ScalarElementColumnDefault(1)))), ('remove_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B146689F80>, None, name='fk_pricebook_items__pricebook_id__pricebooks', ondelete='CASCADE', table=Table('pricebook_items', MetaData(), Column('pricebook_id', NullType(), ForeignKey('pricebooks.id'), table=<pricebook_items>), schema=None))), ('remove_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B146689FD0>, None, name='fk_pricebook_items__product_id__products', ondelete='RESTRICT', table=Table('pricebook_items', MetaData(), Column('product_id', NullType(), ForeignKey('products.id'), table=<pricebook_items>), schema=None))), ('add_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B146689F30>, None, name='fk_pricebook_items__pricebook_id__pricebooks', table=Table('pricebook_items', MetaData(), Column('pricebook_id', NullType(), ForeignKey('pricebooks.id'), table=<pricebook_items>), schema=None))), ('add_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B14668A020>, None, name='fk_pricebook_items__product_id__products', table=Table('pricebook_items', MetaData(), Column('product_id', NullType(), ForeignKey('products.id'), table=<pricebook_items>), schema=None))), ('add_column', None, 'pricebooks', Column('deleted_by', String(length=100), table=<pricebooks>)), ('add_column', None, 'pricebooks', Column('version', Integer(), table=<pricebooks>, nullable=False, default=ScalarElementColumnDefault(1))), ('add_column', None, 'pricebooks', Column('versioned_at', DateTime(), table=<pricebooks>)), ('add_column', None, 'pricebooks', Column('versioned_by', String(length=100), table=<pricebooks>)), ('add_column', None, 'pricebooks', Column('previous_version_id', String(length=36), table=<pricebooks>)), ('add_column', None, 'pricebooks', Column('archived_at', DateTime(), table=<pricebooks>)), ('add_column', None, 'pricebooks', Column('archived_by', String(length=100), table=<pricebooks>)), [('modify_default', None, 'pricebooks', 'currency', {'existing_nullable': False, 'existing_type': VARCHAR(length=8), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B146179940>, for_update=False), None)], ('remove_constraint', UniqueConstraint(Column('name', NullType(), table=<pricebooks>))), ('add_index', Index('ix_pricebooks_archived_at', Column('archived_at', DateTime(), table=<pricebooks>))), ('add_index', Index('ix_pricebooks_deleted_at', Column('deleted_at', DateTime(), table=<pricebooks>))), ('add_index', Index('ix_pricebooks_version', Column('version', Integer(), table=<pricebooks>, nullable=False, default=ScalarElementColumnDefault(1)))), ('add_constraint', UniqueConstraint(Column('name', NullType(), table=<pricebooks>))), [('modify_default', None, 'product_channel_links', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B14628D640>, for_update=False), None)], [('modify_nullable', None, 'product_channel_links', 'created_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_nullable', None, 'product_channel_links', 'updated_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_default', None, 'product_cost_rates', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1461246B0>, for_update=False), None)], ('remove_index', Index('ix_cost_rate_code', Column('rate_code', VARCHAR(length=50), table=<product_cost_rates>, nullable=False), unique=True)), ('add_index', Index('ix_cost_rate_code', Column('rate_code', String(length=50), table=<product_cost_rates>, nullable=False))), ('add_index', Index('ix_product_cost_rates_archived_at', Column('archived_at', DateTime(), table=<product_cost_rates>))), ('add_index', Index('ix_product_cost_rates_deleted_at', Column('deleted_at', DateTime(), table=<product_cost_rates>))), ('add_index', Index('ix_product_cost_rates_rate_code', Column('rate_code', String(length=50), table=<product_cost_rates>, nullable=False), unique=True)), ('add_index', Index('ix_product_cost_rates_version', Column('version', Integer(), table=<product_cost_rates>, nullable=False, default=ScalarElementColumnDefault(1)))), [('modify_default', None, 'product_variants', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B14620E8D0>, for_update=False), None)], [('modify_type', None, 'products', 'id', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=36)), ('modify_nullable', None, 'products', 'id', {'existing_type': TEXT(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_type', None, 'products', 'sku', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=50))], [('modify_type', None, 'products', 'name', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=200))], [('modify_type', None, 'products', 'ean13', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=20))], [('modify_type', None, 'products', 'product_type', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=20))], [('modify_type', None, 'products', 'is_purchase', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, NUMERIC(), Boolean())], [('modify_type', None, 'products', 'is_sell', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, NUMERIC(), Boolean())], [('modify_type', None, 'products', 'is_assemble', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, NUMERIC(), Boolean())], [('modify_type', None, 'products', 'is_tracked', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, NUMERIC(), Boolean())], [('modify_type', None, 'products', 'sellable', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, NUMERIC(), Boolean())], [('modify_default', None, 'products', 'allow_negative_inventory', {'existing_nullable': False, 'existing_type': BOOLEAN(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1460F8D10>, for_update=False), None)], [('modify_type', None, 'products', 'is_archived', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, NUMERIC(), Boolean())], [('modify_type', None, 'products', 'raw_material_search_key', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=10))], [('modify_type', None, 'products', 'raw_material_search_ext', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=10))], [('modify_type', None, 'products', 'usage_unit', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=10))], [('modify_type', None, 'products', 'usage_tax_included', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=1))], [('modify_type', None, 'products', 'hazard', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=1))], [('modify_type', None, 'products', 'condition', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=1))], [('modify_type', None, 'products', 'msds_flag', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=1))], [('modify_type', None, 'products', 'last_movement_date', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=10))], [('modify_type', None, 'products', 'last_purchase_date', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=10))], [('modify_type', None, 'products', 'xero_account', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=50))], [('modify_type', None, 'products', 'size', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=10))], [('modify_type', None, 'products', 'base_unit', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=10))], [('modify_type', None, 'products', 'supplier_id', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=36))], [('modify_type', None, 'products', 'purchase_unit_id', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=36))], [('modify_type', None, 'products', 'purchase_tax_included', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=1))], [('modify_type', None, 'products', 'estimated_by', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=100))], [('modify_type', None, 'products', 'estimated_at', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, NUMERIC(), DateTime())], [('modify_type', None, 'products', 'manufactured_tax_included', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=1))], [('modify_type', None, 'products', 'retailcde', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, NUMERIC(), String(length=1))], [('modify_type', None, 'products', 'wholesalecde', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, NUMERIC(), String(length=1))], [('modify_type', None, 'products', 'countercde', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, NUMERIC(), String(length=1))], [('modify_type', None, 'products', 'tradecde', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, NUMERIC(), String(length=1))], [('modify_type', None, 'products', 'contractcde', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, NUMERIC(), String(length=1))], [('modify_type', None, 'products', 'industrialcde', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, NUMERIC(), String(length=1))], [('modify_type', None, 'products', 'distributorcde', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, NUMERIC(), String(length=1))], [('modify_type', None, 'products', 'dgflag', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=1))], [('modify_type', None, 'products', 'form', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=10))], [('modify_type', None, 'products', 'taxinc', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=1))], [('modify_type', None, 'products', 'salestaxcde', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=1))], [('modify_type', None, 'products', 'disccdeone', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=1))], [('modify_type', None, 'products', 'disccdetwo', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=1))], [('modify_type', None, 'products', 'xero_item_id', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, TEXT(), String(length=100))], [('modify_type', None, 'products', 'last_sync', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, NUMERIC(), DateTime())], [('modify_type', None, 'products', 'is_active', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, NUMERIC(), Boolean())], [('modify_default', None, 'products', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1460F89B0>, for_update=False), None)], [('modify_type', None, 'products', 'archived_at', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, NUMERIC(), DateTime())], [('modify_type', None, 'products', 'created_at', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, NUMERIC(), DateTime()), ('modify_nullable', None, 'products', 'created_at', {'existing_type': NUMERIC(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_type', None, 'products', 'updated_at', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, NUMERIC(), DateTime()), ('modify_nullable', None, 'products', 'updated_at', {'existing_type': NUMERIC(), 'existing_server_default': False, 'existing_comment': None}, True, False)], ('add_index', Index('ix_products_product_type', Column('product_type', String(length=20), table=<products>))), ('add_index', Index('ix_products_raw_material_code', Column('raw_material_code', Integer(), table=<products>))), ('add_index', Index('ix_products_sku', Column('sku', String(length=50), table=<products>), unique=True)), ('add_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B14668A160>, None, name='fk_products__supplier_id__contacts', table=Table('products', MetaData(), Column('supplier_id', NullType(), ForeignKey('contacts.id'), table=<products>), schema=None))), ('add_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B14668A110>, None, name='fk_products__purchase_format_id__purchase_formats', table=Table('products', MetaData(), Column('purchase_format_id', NullType(), ForeignKey('purchase_formats.id'), table=<products>), schema=None))), ('add_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B14668A200>, None, name='fk_products__purchase_unit_id__units', table=Table('products', MetaData(), Column('purchase_unit_id', NullType(), ForeignKey('units.id'), table=<products>), schema=None))), ('remove_column', None, 'products', Column('purchase_volume', NUMERIC(), table=<products>)), ('remove_column', None, 'products', Column('raw_material_group_id', TEXT(), table=<products>)), ('remove_column', None, 'products', Column('pack', INTEGER(), table=<products>)), ('remove_column', None, 'products', Column('formula_id', TEXT(), table=<products>)), ('remove_column', None, 'products', Column('formula_revision', INTEGER(), table=<products>)), [('modify_default', None, 'purchase_orders', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1462677A0>, for_update=False), None)], [('modify_nullable', None, 'purchase_orders', 'created_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_nullable', None, 'purchase_orders', 'updated_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_default', None, 'qc_results', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B146178DA0>, for_update=False), None)], [('modify_nullable', None, 'qc_results', 'created_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_nullable', None, 'qc_results', 'updated_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_default', None, 'qc_test_types', 'is_active', {'existing_nullable': False, 'existing_type': BOOLEAN(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1462C7E00>, for_update=False), None)], [('modify_default', None, 'qc_test_types', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1462F47D0>, for_update=False), None)], ('remove_constraint', UniqueConstraint(Column('code', NullType(), table=<qc_test_types>))), ('remove_index', Index('ix_qc_test_types_code', Column('code', VARCHAR(length=50), table=<qc_test_types>, nullable=False))), ('add_index', Index('ix_qc_test_types_code', Column('code', String(length=50), table=<qc_test_types>, nullable=False), unique=True)), ('add_index', Index('ix_qc_test_types_archived_at', Column('archived_at', DateTime(), table=<qc_test_types>))), ('add_index', Index('ix_qc_test_types_deleted_at', Column('deleted_at', DateTime(), table=<qc_test_types>))), ('add_index', Index('ix_qc_test_types_version', Column('version', Integer(), table=<qc_test_types>, nullable=False, default=ScalarElementColumnDefault(1)))), [('modify_default', None, 'quality_test_definitions', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B146195D30>, for_update=False), None)], [('modify_default', None, 'revaluations', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1460F9A90>, for_update=False), None)], [('modify_nullable', None, 'revaluations', 'created_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_nullable', None, 'revaluations', 'updated_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], ('add_column', None, 'sales_channels', Column('deleted_by', String(length=100), table=<sales_channels>)), ('add_column', None, 'sales_channels', Column('version', Integer(), table=<sales_channels>, nullable=False, default=ScalarElementColumnDefault(1))), ('add_column', None, 'sales_channels', Column('versioned_at', DateTime(), table=<sales_channels>)), ('add_column', None, 'sales_channels', Column('versioned_by', String(length=100), table=<sales_channels>)), ('add_column', None, 'sales_channels', Column('previous_version_id', String(length=36), table=<sales_channels>)), ('add_column', None, 'sales_channels', Column('archived_at', DateTime(), table=<sales_channels>)), ('add_column', None, 'sales_channels', Column('archived_by', String(length=100), table=<sales_channels>)), ('remove_constraint', UniqueConstraint(Column('code', NullType(), table=<sales_channels>))), ('add_index', Index('ix_sales_channels_archived_at', Column('archived_at', DateTime(), table=<sales_channels>))), ('add_index', Index('ix_sales_channels_code', Column('code', String(length=50), table=<sales_channels>, nullable=False), unique=True)), ('add_index', Index('ix_sales_channels_deleted_at', Column('deleted_at', DateTime(), table=<sales_channels>))), ('add_index', Index('ix_sales_channels_version', Column('version', Integer(), table=<sales_channels>, nullable=False, default=ScalarElementColumnDefault(1)))), [('modify_default', None, 'sales_order_lines', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1461B9BB0>, for_update=False), None)], ('add_index', Index('ix_sales_order_lines_archived_at', Column('archived_at', DateTime(), table=<sales_order_lines>))), ('add_index', Index('ix_sales_order_lines_deleted_at', Column('deleted_at', DateTime(), table=<sales_order_lines>))), ('add_index', Index('ix_sales_order_lines_version', Column('version', Integer(), table=<sales_order_lines>, nullable=False, default=ScalarElementColumnDefault(1)))), ('remove_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B14668A1B0>, None, name='fk_sales_order_lines__order_id__sales_orders', ondelete='CASCADE', table=Table('sales_order_lines', MetaData(), Column('order_id', NullType(), ForeignKey('sales_orders.id'), table=<sales_order_lines>), schema=None))), ('add_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B14668A340>, None, name='fk_sales_order_lines__product_id__products', table=Table('sales_order_lines', MetaData(), Column('product_id', NullType(), ForeignKey('products.id'), table=<sales_order_lines>), schema=None))), ('add_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B14668A390>, None, name='fk_sales_order_lines__order_id__sales_orders', table=Table('sales_order_lines', MetaData(), Column('order_id', NullType(), ForeignKey('sales_orders.id'), table=<sales_order_lines>), schema=None))), ('add_column', None, 'sales_order_tags', Column('deleted_by', String(length=100), table=<sales_order_tags>)), ('add_column', None, 'sales_order_tags', Column('version', Integer(), table=<sales_order_tags>, nullable=False, default=ScalarElementColumnDefault(1))), ('add_column', None, 'sales_order_tags', Column('versioned_at', DateTime(), table=<sales_order_tags>)), ('add_column', None, 'sales_order_tags', Column('versioned_by', String(length=100), table=<sales_order_tags>)), ('add_column', None, 'sales_order_tags', Column('previous_version_id', String(length=36), table=<sales_order_tags>)), ('add_column', None, 'sales_order_tags', Column('archived_at', DateTime(), table=<sales_order_tags>)), ('add_column', None, 'sales_order_tags', Column('archived_by', String(length=100), table=<sales_order_tags>)), ('add_index', Index('ix_sales_order_tags_archived_at', Column('archived_at', DateTime(), table=<sales_order_tags>))), ('add_index', Index('ix_sales_order_tags_deleted_at', Column('deleted_at', DateTime(), table=<sales_order_tags>))), ('add_index', Index('ix_sales_order_tags_version', Column('version', Integer(), table=<sales_order_tags>, nullable=False, default=ScalarElementColumnDefault(1)))), ('remove_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B14668A2A0>, None, name='fk_sales_order_tags__order_id__sales_orders', ondelete='CASCADE', table=Table('sales_order_tags', MetaData(), Column('order_id', NullType(), ForeignKey('sales_orders.id'), table=<sales_order_tags>), schema=None))), ('remove_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B14668A430>, None, name='fk_sales_order_tags__tag_id__sales_tags', ondelete='CASCADE', table=Table('sales_order_tags', MetaData(), Column('tag_id', NullType(), ForeignKey('sales_tags.id'), table=<sales_order_tags>), schema=None))), ('add_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B14668A480>, None, name='fk_sales_order_tags__tag_id__sales_tags', table=Table('sales_order_tags', MetaData(), Column('tag_id', NullType(), ForeignKey('sales_tags.id'), table=<sales_order_tags>), schema=None))), ('add_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B14668A3E0>, None, name='fk_sales_order_tags__order_id__sales_orders', table=Table('sales_order_tags', MetaData(), Column('order_id', NullType(), ForeignKey('sales_orders.id'), table=<sales_order_tags>), schema=None))), ('add_column', None, 'sales_orders', Column('pricebook_id', String(length=36), ForeignKey('pricebooks.id'), table=<sales_orders>)), [('modify_nullable', None, 'sales_orders', 'order_ref', {'existing_type': VARCHAR(length=50), 'existing_server_default': False, 'existing_comment': None}, False, True)], [('modify_nullable', None, 'sales_orders', 'order_date', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_default', None, 'sales_orders', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B146126B40>, for_update=False), None)], [('modify_nullable', None, 'sales_orders', 'created_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_nullable', None, 'sales_orders', 'updated_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], ('remove_index', Index('ix_sales_order_so_number', Column('order_ref', VARCHAR(length=50), table=<sales_orders>, nullable=False))), ('add_index', Index('ix_sales_orders_order_ref', Column('order_ref', String(length=50), table=<sales_orders>))), ('add_index', Index('ix_sales_orders_pricebook', Column('pricebook_id', String(length=36), table=<sales_orders>))), ('remove_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B14668A4D0>, None, name='fk_sales_orders__customer_site_id__customer_sites', ondelete='SET NULL', table=Table('sales_orders', MetaData(), Column('customer_site_id', NullType(), ForeignKey('customer_sites.id'), table=<sales_orders>), schema=None))), ('remove_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B14668A520>, None, name='fk_sales_orders__channel_id__sales_channels', ondelete='RESTRICT', table=Table('sales_orders', MetaData(), Column('channel_id', NullType(), ForeignKey('sales_channels.id'), table=<sales_orders>), schema=None))), ('add_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B14668A570>, None, name='fk_sales_orders__pricebook_id__pricebooks', table=Table('sales_orders', MetaData(), Column('pricebook_id', NullType(), ForeignKey('pricebooks.id'), table=<sales_orders>), schema=None))), ('add_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B14668A5C0>, None, name='fk_sales_orders__channel_id__sales_channels', table=Table('sales_orders', MetaData(), Column('channel_id', NullType(), ForeignKey('sales_channels.id'), table=<sales_orders>), schema=None))), ('add_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B14668A610>, None, name='fk_sales_orders__customer_site_id__customer_sites', table=Table('sales_orders', MetaData(), Column('customer_site_id', NullType(), ForeignKey('customer_sites.id'), table=<sales_orders>), schema=None))), ('add_column', None, 'sales_tags', Column('deleted_by', String(length=100), table=<sales_tags>)), ('add_column', None, 'sales_tags', Column('version', Integer(), table=<sales_tags>, nullable=False, default=ScalarElementColumnDefault(1))), ('add_column', None, 'sales_tags', Column('versioned_at', DateTime(), table=<sales_tags>)), ('add_column', None, 'sales_tags', Column('versioned_by', String(length=100), table=<sales_tags>)), ('add_column', None, 'sales_tags', Column('previous_version_id', String(length=36), table=<sales_tags>)), ('add_column', None, 'sales_tags', Column('archived_at', DateTime(), table=<sales_tags>)), ('add_column', None, 'sales_tags', Column('archived_by', String(length=100), table=<sales_tags>)), ('remove_constraint', UniqueConstraint(Column('slug', NullType(), table=<sales_tags>))), ('add_index', Index('ix_sales_tags_archived_at', Column('archived_at', DateTime(), table=<sales_tags>))), ('add_index', Index('ix_sales_tags_deleted_at', Column('deleted_at', DateTime(), table=<sales_tags>))), ('add_index', Index('ix_sales_tags_slug', Column('slug', String(length=100), table=<sales_tags>, nullable=False), unique=True)), ('add_index', Index('ix_sales_tags_version', Column('version', Integer(), table=<sales_tags>, nullable=False, default=ScalarElementColumnDefault(1)))), [('modify_default', None, 'suppliers', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B14620D700>, for_update=False), None)], [('modify_default', None, 'units', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B146368470>, for_update=False), None)], [('modify_default', None, 'wo_qc_tests', 'status', {'existing_nullable': False, 'existing_type': VARCHAR(length=20), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1462C7260>, for_update=False), None)], [('modify_default', None, 'wo_qc_tests', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1462C7560>, for_update=False), None)], ('add_index', Index('ix_wo_qc_tests_archived_at', Column('archived_at', DateTime(), table=<wo_qc_tests>))), ('add_index', Index('ix_wo_qc_tests_deleted_at', Column('deleted_at', DateTime(), table=<wo_qc_tests>))), ('add_index', Index('ix_wo_qc_tests_version', Column('version', Integer(), table=<wo_qc_tests>, nullable=False, default=ScalarElementColumnDefault(1)))), ('remove_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B14668A700>, None, name='fk_wo_qc_tests__test_type_id__qc_test_types', ondelete='SET NULL', table=Table('wo_qc_tests', MetaData(), Column('test_type_id', NullType(), ForeignKey('qc_test_types.id'), table=<wo_qc_tests>), schema=None))), ('add_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B14668A750>, None, name='fk_wo_qc_tests__test_type_id__qc_test_types', table=Table('wo_qc_tests', MetaData(), Column('test_type_id', NullType(), ForeignKey('qc_test_types.id'), table=<wo_qc_tests>), schema=None))), [('modify_default', None, 'wo_timers', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1462F5460>, for_update=False), None)], ('add_index', Index('ix_wo_timers_archived_at', Column('archived_at', DateTime(), table=<wo_timers>))), ('add_index', Index('ix_wo_timers_deleted_at', Column('deleted_at', DateTime(), table=<wo_timers>))), ('add_index', Index('ix_wo_timers_version', Column('version', Integer(), table=<wo_timers>, nullable=False, default=ScalarElementColumnDefault(1)))), [('modify_default', None, 'work_areas', 'is_active', {'existing_nullable': True, 'existing_type': BOOLEAN(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B14620F290>, for_update=False), None)], [('modify_type', None, 'work_areas', 'deleted_by', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, VARCHAR(length=36), String(length=100))], [('modify_nullable', None, 'work_areas', 'version', {'existing_type': INTEGER(), 'existing_server_default': DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B14620FC50>, for_update=False), 'existing_comment': None}, True, False), ('modify_default', None, 'work_areas', 'version', {'existing_nullable': True, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B14620FC50>, for_update=False), None)], [('modify_type', None, 'work_areas', 'versioned_by', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, VARCHAR(length=36), String(length=100))], [('modify_type', None, 'work_areas', 'archived_by', {'existing_nullable': True, 'existing_server_default': False, 'existing_comment': None}, VARCHAR(length=36), String(length=100))], [('modify_nullable', None, 'work_areas', 'created_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_nullable', None, 'work_areas', 'updated_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], ('remove_index', Index('ix_work_area_code', Column('code', VARCHAR(length=20), table=<work_areas>, nullable=False), unique=True)), ('add_index', Index('ix_work_area_code', Column('code', String(length=20), table=<work_areas>, nullable=False))), ('add_index', Index('ix_work_areas_archived_at', Column('archived_at', DateTime(), table=<work_areas>))), ('add_index', Index('ix_work_areas_code', Column('code', String(length=20), table=<work_areas>, nullable=False), unique=True)), ('add_index', Index('ix_work_areas_deleted_at', Column('deleted_at', DateTime(), table=<work_areas>))), ('add_index', Index('ix_work_areas_version', Column('version', Integer(), table=<work_areas>, nullable=False, default=ScalarElementColumnDefault(1)))), [('modify_nullable', None, 'work_order_lines', 'component_product_id', {'existing_type': VARCHAR(length=36), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_nullable', None, 'work_order_lines', 'ingredient_product_id', {'existing_type': VARCHAR(length=36), 'existing_server_default': False, 'existing_comment': None}, False, True)], [('modify_nullable', None, 'work_order_lines', 'required_quantity_kg', {'existing_type': NUMERIC(precision=12, scale=3), 'existing_server_default': False, 'existing_comment': None}, False, True)], [('modify_default', None, 'work_order_lines', 'line_type', {'existing_nullable': True, 'existing_type': VARCHAR(length=20), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B14614C7A0>, for_update=False), None)], [('modify_default', None, 'work_order_lines', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1460FA390>, for_update=False), None)], [('modify_nullable', None, 'work_order_lines', 'created_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], [('modify_nullable', None, 'work_order_lines', 'updated_at', {'existing_type': DATETIME(), 'existing_server_default': False, 'existing_comment': None}, True, False)], ('add_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B14668A7A0>, None, name='fk_work_order_lines__source_batch_id__batches', table=Table('work_order_lines', MetaData(), Column('source_batch_id', NullType(), ForeignKey('batches.id'), table=<work_order_lines>), schema=None))), ('add_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B14668A6B0>, None, name='fk_work_order_lines__component_product_id__products', table=Table('work_order_lines', MetaData(), Column('component_product_id', NullType(), ForeignKey('products.id'), table=<work_order_lines>), schema=None))), [('modify_default', None, 'work_order_outputs', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B1463A5310>, for_update=False), None)], ('add_index', Index('ix_work_order_outputs_archived_at', Column('archived_at', DateTime(), table=<work_order_outputs>))), ('add_index', Index('ix_work_order_outputs_deleted_at', Column('deleted_at', DateTime(), table=<work_order_outputs>))), ('add_index', Index('ix_work_order_outputs_version', Column('version', Integer(), table=<work_order_outputs>, nullable=False, default=ScalarElementColumnDefault(1)))), [('modify_nullable', None, 'work_orders', 'formula_id', {'existing_type': VARCHAR(length=36), 'existing_server_default': False, 'existing_comment': None}, False, True)], [('modify_default', None, 'work_orders', 'version', {'existing_nullable': False, 'existing_type': INTEGER(), 'existing_comment': None}, DefaultClause(<sqlalchemy.sql.elements.TextClause object at 0x000001B146194050>, for_update=False), None)], ('add_fk', ForeignKeyConstraint(<sqlalchemy.sql.base.ReadOnlyColumnCollection object at 0x000001B14668A7F0>, None, name='fk_work_orders__assembly_id__assemblies', table=Table('work_orders', MetaData(), Column('assembly_id', NullType(), ForeignKey('assemblies.id'), table=<work_orders>), schema=None)))]
